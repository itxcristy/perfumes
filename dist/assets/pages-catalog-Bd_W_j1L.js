import{b9 as e,ba as s,aH as t,r as a,j as r,i,E as l,P as n,c,a1 as o,a as d,l as x,af as m,b8 as u,bb as h,w as p,R as g,v as y,ak as j,al as b,aq as f,I as N,aA as v,x as w,aa as k,aX as C,n as S,bc as P,ao as L,an as _,y as A,aF as O,aY as I,ap as E,Q as T,J as F,bd as M,aB as R,H as D,V as q,k as W,e as U,be as B,at as H,z,q as $,b7 as Y,p as Z}from"./vendor-I9hkboGq.js";import{A as Q,P as V,c as X,d as G,b as J,R as K,a as ee}from"./product-C38Xnw-V.js";import{a6 as se,a7 as te,a8 as ae,a9 as re,aa as ie,ab as le,ac as ne,L as ce,ad as oe,ae as de,af as xe,ag as me,ah as ue,ai as he,aj as pe,M as ge}from"./index-CzTquisR.js";import{d as ye,b as je,h as be,u as fe,e as Ne,f as ve,j as we,c as ke}from"./contexts-Cb1lEMMf.js";import{A as Ce,m as Se}from"./ui-CFZ2Pk_Q.js";const Pe=()=>{const[N,v]=e(),{slug:w}=s();t();const{user:k}=ye(),{products:C,categories:S,loading:P,basicLoading:L,detailsLoading:_,fetchProducts:A}=je(),{error:O,clearError:I}=be(),{showNotification:E}=fe(),{isOnline:T}=se(),[F,M]=a.useState(!1),[R,D]=a.useState("grid"),[q,W]=a.useState("featured"),[U,B]=a.useState(!0),[H,z]=a.useState(!1),[$,Y]=a.useState({category:function(){if(w){const e=S.find(e=>e.slug===w);return e?e.name:""}return N.get("category")||""}(),search:N.get("q")||"",priceRange:[0,1e3],rating:0,inStock:!1,featured:!1,newArrivals:!1,onSale:!1}),Z=[{value:"featured",label:"Featured",icon:r.jsx(c,{className:"w-4 h-4"})},{value:"newest",label:"Newest First",icon:r.jsx(y,{className:"w-4 h-4"})},{value:"price-low",label:"Price: Low to High",icon:r.jsx(j,{className:"w-4 h-4"})},{value:"price-high",label:"Price: High to Low",icon:r.jsx(b,{className:"w-4 h-4"})},{value:"rating",label:"Highest Rated",icon:r.jsx(f,{className:"w-4 h-4"})},{value:"popular",label:"Most Popular",icon:r.jsx(d,{className:"w-4 h-4"})},{value:"name",label:"Name A-Z",icon:r.jsx(j,{className:"w-4 h-4"})}];const G=a.useMemo(()=>({total:C.length,featured:C.filter(e=>e.is_featured).length,newArrivals:C.filter(e=>e.is_new_arrival).length,onSale:C.filter(e=>e.sale_price&&e.sale_price<e.price).length,inStock:C.filter(e=>e.inventory_quantity>0).length}),[C]),J=a.useMemo(()=>{let e=[...C];if($.search&&$.search.trim()){const s=$.search.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.category&&e.category.toLowerCase().includes(s)||e.tags&&e.tags.some(e=>e.toLowerCase().includes(s))||e.brand&&e.brand.toLowerCase().includes(s)||e.sku&&e.sku.toLowerCase().includes(s))}return $.category&&""!==$.category&&"all"!==$.category.toLowerCase()&&(e=e.filter(e=>e.category&&e.category.toLowerCase()===$.category.toLowerCase())),$.priceRange&&(e=e.filter(e=>{const s=e.sale_price||e.price;return s>=$.priceRange[0]&&s<=$.priceRange[1]})),$.rating>0&&(e=e.filter(e=>e.rating_average>=$.rating)),$.inStock&&(e=e.filter(e=>e.inventory_quantity>0)),$.featured&&(e=e.filter(e=>e.is_featured)),$.newArrivals&&(e=e.filter(e=>e.is_new_arrival)),$.onSale&&(e=e.filter(e=>e.sale_price&&e.sale_price<e.price)),e},[C,$]),K=a.useMemo(()=>{const e=[...J];switch(q){case"featured":return e.sort((e,s)=>e.is_featured&&!s.is_featured?-1:!e.is_featured&&s.is_featured?1:s.rating_average-e.rating_average);case"newest":return e.sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime());case"price-low":return e.sort((e,s)=>(e.sale_price||e.price)-(s.sale_price||s.price));case"price-high":return e.sort((e,s)=>(s.sale_price||s.price)-(e.sale_price||e.price));case"rating":return e.sort((e,s)=>s.rating_average-e.rating_average);case"popular":return e.sort((e,s)=>s.view_count-e.view_count);case"name":return e.sort((e,s)=>e.name.localeCompare(s.name));default:return e}},[J,q]),ee=a.useCallback(e=>{Y(e),v(s=>(e.category&&""!==e.category&&"all"!==e.category?s.set("category",e.category):s.delete("category"),e.search?s.set("q",e.search):s.delete("q"),s))},[v]),ce=a.useCallback(()=>{I(),A(!0)},[I,A]),oe=a.useCallback(()=>{k?"admin"===k.role||"seller"===k.role?z(!0):E({type:"error",title:"Access Denied",message:"You need admin or seller privileges to add products."}):E({type:"warning",title:"Authentication Required",message:"Please sign in to add products."})},[k,E]);return a.useEffect(()=>{A()},[A]),a.useEffect(()=>{"serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype&&navigator.serviceWorker.ready.then(e=>e.sync.register("background-sync-products")).catch(console.error);const e=()=>{E({type:"success",title:"Back Online",message:"Connection restored. Syncing data..."}),A(!0)},s=()=>{E({type:"warning",title:"Offline Mode",message:"You're offline. Some features may be limited."})};return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[E,A]),L?r.jsx("div",{className:"min-h-screen bg-background-primary",children:r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx(te,{stages:[{name:"Loading products...",duration:1e3},{name:"Applying filters...",duration:500},{name:"Optimizing display...",duration:300}]})})}):O&&!T?r.jsx("div",{className:"min-h-screen bg-background-primary",children:r.jsx("div",{className:"container mx-auto px-4 py-8",children:r.jsx(ae,{error:O,onRetry:ce,showNetworkStatus:!0})})}):r.jsxs("div",{className:"min-h-screen bg-background-primary",children:[r.jsx(re,{}),r.jsx(ie,{}),r.jsx(le,{}),r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:$.category&&"all"!==$.category?`${$.category} Products`:"All Products"}),r.jsx("p",{className:"text-text-secondary",children:"Discover our curated collection of premium products"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[("admin"===(null==k?void 0:k.role)||"seller"===(null==k?void 0:k.role))&&r.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[r.jsx(i,{className:"w-4 h-4"}),"Add Product"]}),r.jsxs("button",{onClick:()=>B(!U),className:"flex items-center gap-2 px-4 py-2 bg-background-secondary text-text-primary rounded-lg hover:bg-background-tertiary transition-colors",children:[r.jsx(l,{className:"w-4 h-4"}),U?"Hide":"Show"," Stats"]})]})]}),r.jsx(Ce,{children:U&&r.jsxs(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 grid grid-cols-2 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"bg-background-secondary rounded-lg p-4 text-center",children:[r.jsx(n,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-text-primary",children:G.total}),r.jsx("div",{className:"text-sm text-text-secondary",children:"Total Products"})]}),r.jsxs("div",{className:"bg-background-secondary rounded-lg p-4 text-center",children:[r.jsx(c,{className:"w-6 h-6 text-yellow-500 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-text-primary",children:G.featured}),r.jsx("div",{className:"text-sm text-text-secondary",children:"Featured"})]}),r.jsxs("div",{className:"bg-background-secondary rounded-lg p-4 text-center",children:[r.jsx(o,{className:"w-6 h-6 text-green-500 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-text-primary",children:G.newArrivals}),r.jsx("div",{className:"text-sm text-text-secondary",children:"New Arrivals"})]}),r.jsxs("div",{className:"bg-background-secondary rounded-lg p-4 text-center",children:[r.jsx(d,{className:"w-6 h-6 text-red-500 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-text-primary",children:G.onSale}),r.jsx("div",{className:"text-sm text-text-secondary",children:"On Sale"})]}),r.jsxs("div",{className:"bg-background-secondary rounded-lg p-4 text-center",children:[r.jsx(n,{className:"w-6 h-6 text-blue-500 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-text-primary",children:G.inStock}),r.jsx("div",{className:"text-sm text-text-secondary",children:"In Stock"})]})]})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search products, brands, categories...",value:$.search,onChange:e=>ee({...$,search:e.target.value}),className:"w-full pl-10 pr-4 py-3 bg-background-secondary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),$.search&&r.jsx("button",{onClick:()=>ee({...$,search:""}),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-secondary hover:text-text-primary",children:r.jsx(m,{className:"w-5 h-5"})})]})}),r.jsx("div",{className:"lg:w-64",children:r.jsx("select",{value:q,onChange:e=>W(e.target.value),className:"w-full px-4 py-3 bg-background-secondary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:Z.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))})}),r.jsxs("div",{className:"flex bg-background-secondary rounded-lg p-1",children:[r.jsx("button",{onClick:()=>D("grid"),className:"p-2 rounded-md transition-colors "+("grid"===R?"bg-primary-600 text-white":"text-text-secondary hover:text-text-primary"),children:r.jsx(u,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>D("list"),className:"p-2 rounded-md transition-colors "+("list"===R?"bg-primary-600 text-white":"text-text-secondary hover:text-text-primary"),children:r.jsx(h,{className:"w-5 h-5"})})]}),r.jsxs("button",{onClick:()=>M(!F),className:"flex items-center gap-2 px-4 py-3 bg-background-secondary border border-border-primary rounded-lg hover:bg-background-tertiary transition-colors",children:[r.jsx(p,{className:"w-5 h-5"}),"Filters",Object.values($).some(e=>"string"==typeof e&&""!==e&&"all"!==e||"boolean"==typeof e&&e||Array.isArray(e)&&e[0]>0)&&r.jsx("span",{className:"bg-primary-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:"!"})]})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[$.category&&"all"!==$.category&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:["Category: ",$.category,r.jsx("button",{onClick:()=>ee({...$,category:""}),className:"hover:text-primary-900",children:r.jsx(m,{className:"w-3 h-3"})})]}),$.search&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:['Search: "',$.search,'"',r.jsx("button",{onClick:()=>ee({...$,search:""}),className:"hover:text-blue-900",children:r.jsx(m,{className:"w-3 h-3"})})]}),$.featured&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm",children:["Featured Only",r.jsx("button",{onClick:()=>ee({...$,featured:!1}),className:"hover:text-yellow-900",children:r.jsx(m,{className:"w-3 h-3"})})]}),$.newArrivals&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:["New Arrivals",r.jsx("button",{onClick:()=>ee({...$,newArrivals:!1}),className:"hover:text-green-900",children:r.jsx(m,{className:"w-3 h-3"})})]}),$.onSale&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:["On Sale",r.jsx("button",{onClick:()=>ee({...$,onSale:!1}),className:"hover:text-red-900",children:r.jsx(m,{className:"w-3 h-3"})})]}),$.inStock&&r.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm",children:["In Stock Only",r.jsx("button",{onClick:()=>ee({...$,inStock:!1}),className:"hover:text-purple-900",children:r.jsx(m,{className:"w-3 h-3"})})]})]})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx(Ce,{children:F&&r.jsx(Se.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"hidden lg:block w-80 flex-shrink-0",children:r.jsx("div",{className:"sticky top-6",children:r.jsx(Q,{filters:$,onFiltersChange:ee,categories:S,products:C})})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"text-text-secondary",children:["Showing ",K.length," of ",C.length," products",$.category&&"all"!==$.category&&r.jsxs("span",{children:[" in ",$.category]})]}),_&&r.jsxs("div",{className:"flex items-center gap-2 text-text-secondary",children:[r.jsx(g,{className:"w-4 h-4 animate-spin"}),"Updating..."]})]}),0===K.length?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(n,{className:"w-16 h-16 text-text-secondary mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"No products found"}),r.jsx("p",{className:"text-text-secondary mb-4",children:"Try adjusting your filters or search terms"}),r.jsx("button",{onClick:()=>Y({category:"",search:"",priceRange:[0,1e3],rating:0,inStock:!1,featured:!1,newArrivals:!1,onSale:!1}),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Clear All Filters"})]}):r.jsx("div",{className:`\n                ${"grid"===R?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4"}\n              `,children:r.jsx(Ce,{mode:"popLayout",children:K.map((e,s)=>r.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*s},children:"grid"===R?r.jsx(V,{product:e}):r.jsx(X,{product:e})},e.id))})}),K.length>0&&K.length<C.length&&r.jsx("div",{className:"text-center mt-8",children:r.jsx("button",{onClick:()=>A(!1),disabled:P,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:P?r.jsxs(r.Fragment,{children:[r.jsx(g,{className:"w-4 h-4 animate-spin inline mr-2"}),"Loading..."]}):"Load More Products"})})]})]}),r.jsx(Ce,{children:F&&r.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 lg:hidden",onClick:()=>M(!1),children:r.jsx(Se.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},className:"w-80 h-full bg-background-primary overflow-y-auto",onClick:e=>e.stopPropagation(),children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Filters"}),r.jsx("button",{onClick:()=>M(!1),className:"p-2 hover:bg-background-secondary rounded-lg transition-colors",children:r.jsx(m,{className:"w-5 h-5"})})]}),r.jsx(Q,{filters:$,onFiltersChange:ee,categories:S,products:C})]})})})}),r.jsx("div",{className:"lg:hidden mt-8",children:r.jsx(ne,{products:K.slice(0,10)})}),"undefined"!=typeof window&&"serviceWorker"in navigator&&r.jsx("div",{className:"fixed bottom-4 right-4 z-40",children:r.jsx(Se.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-primary-600 text-white p-4 rounded-lg shadow-lg max-w-sm",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(n,{className:"w-6 h-6 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:"Install App"}),r.jsx("p",{className:"text-sm opacity-90",children:"Get the full experience with our PWA"})]}),r.jsx("button",{onClick:()=>{E({type:"info",title:"PWA Install",message:"Add to home screen for the best experience!"})},className:"bg-white text-primary-600 px-3 py-1 rounded text-sm font-medium hover:bg-gray-100 transition-colors",children:"Install"})]})})})]})]})},Le=Object.freeze(Object.defineProperty({__proto__:null,ProductsPage:Pe,default:Pe},Symbol.toStringTag,{value:"Module"})),_e=()=>{const{id:e}=s(),{products:t,loading:l,fetchReviewsForProduct:n,submitReview:c}=je(),{user:o}=ye(),d=t.find(s=>s.id===e),{addItem:x}=Ne(),{addItem:m,isInWishlist:u}=ve(),{addToRecentlyViewed:h,getRelatedProducts:p,getFrequentlyBoughtTogether:g}=we(),{showNotification:y}=fe(),[j,b]=a.useState([]),[f,L]=a.useState(!0),[_,A]=a.useState(0),[O,I]=a.useState(1),[E,T]=a.useState("description"),[F,M]=a.useState(!1);if(a.useEffect(()=>{if(d){h(d.id);(async()=>{L(!0);const e=await n(d.id);b(e),L(!1)})()}},[d,n,h]),l)return r.jsx("div",{className:"min-h-screen",children:r.jsx(ce,{})});if(!d)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),r.jsx("p",{className:"text-gray-600",children:"The product you're looking for doesn't exist."})]})});const R=[{icon:w,text:"Free shipping on orders over $50"},{icon:k,text:"30-day return policy"},{icon:C,text:"2-year warranty included"}],D=[{id:"description",name:"Description"},{id:"reviews",name:`Reviews (${j.length})`},{id:"shipping",name:"Shipping Info"}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[r.jsxs(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[r.jsx("div",{className:"aspect-square mb-4",children:r.jsx("img",{src:d.images&&d.images.length>0&&d.images[_]||d.images&&d.images.length>0&&d.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgZmlsbD0iI2Y5ZmFmYiIvPgogIDx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LXNpemU9IjE2IiBmaWxsPSIjNjM3MzgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2UgTm90IEZvdW5kPC90ZXh0Pgo8L3N2Zz4=",alt:d.name,className:"w-full h-full object-cover rounded-xl shadow-lg"})}),d.images&&d.images.length>1&&r.jsx("div",{className:"grid grid-cols-5 gap-4",children:d.images.map((e,s)=>r.jsx("button",{onClick:()=>A(s),className:"aspect-square rounded-lg overflow-hidden border-2 transition-all "+(_===s?"border-indigo-500 scale-105":"border-gray-200"),children:r.jsx("img",{src:e,alt:"",className:"w-full h-full object-cover"})},s))})]}),r.jsxs(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:d.name}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(oe,{isHot:d.is_featured,salesIncrease:15}),r.jsx(de,{freeShipping:d.price>=50,warranty:!0,returns:!0})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx(xe,{rating:d.rating,reviewCount:j.length,className:"mb-3"}),r.jsx("a",{href:"#reviews",onClick:()=>T("reviews"),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"Read all reviews â†’"})]}),r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",d.price]}),d.originalPrice&&r.jsxs("span",{className:"text-2xl text-gray-500 line-through",children:["$",d.originalPrice]})]}),r.jsx(me,{stock:d.stock,lowStockThreshold:10,className:"mb-4"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quantity"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[r.jsx("button",{onClick:()=>I(Math.max(1,O-1)),className:"p-3 hover:bg-gray-50 transition-colors",children:r.jsx(N,{className:"h-4 w-4"})}),r.jsx("span",{className:"px-6 py-3 border-x border-gray-300 min-w-[80px] text-center",children:O}),r.jsx("button",{onClick:()=>I(Math.min(d.stock,O+1)),className:"p-3 hover:bg-gray-50 transition-colors",disabled:O>=d.stock,children:r.jsx(i,{className:"h-4 w-4"})})]}),r.jsxs("span",{className:"text-sm text-gray-600",children:[d.stock," available"]})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx(Se.button,{onClick:()=>{x(d,O)},disabled:0===d.stock,className:"flex-1 btn-primary !text-lg",whileHover:d.stock>0?{scale:1.02}:{},whileTap:d.stock>0?{scale:.98}:{},children:r.jsx("span",{children:0===d.stock?"Out of Stock":"Add to Cart"})}),r.jsx(Se.button,{onClick:()=>{m(d)},className:"p-4 border rounded-xl transition-colors "+(u(d.id)?"border-red-300 bg-red-50 text-red-500":"border-gray-300 hover:bg-gray-50"),whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(v,{className:"h-6 w-6",fill:u(d.id)?"currentColor":"none"})})]}),r.jsx("div",{className:"space-y-4 pt-6 border-t border-gray-200",children:R.map((e,s)=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(e.icon,{className:"h-5 w-5 text-green-500"})," ",r.jsx("span",{className:"text-gray-700",children:e.text})]},s))}),r.jsx("div",{className:"pt-6",children:r.jsx(ue,{variant:"compact",className:"justify-start"})})]})]}),r.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx(he,{productId:d.id,showRecentPurchases:!0,showViewingCount:!0,showCustomerCount:!0}),r.jsx(pe,{})]})}),r.jsx(Se.div,{id:"reviews",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-16",children:r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8 px-6",children:D.map(e=>r.jsx("button",{onClick:()=>T(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm "+(E===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"),children:e.name},e.id))})}),r.jsxs("div",{className:"p-6",children:["description"===E&&r.jsx("div",{className:"prose max-w-none",children:r.jsx("p",{className:"text-gray-700 leading-relaxed",children:d.description})}),"reviews"===E&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),r.jsxs("button",{onClick:()=>M(!0),className:"btn-primary",children:[r.jsx(S,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:"Write a Review"})]})]}),f?r.jsx(ce,{}):j.length>0?r.jsx("div",{className:"space-y-4",children:j.map(e=>r.jsx(G,{review:e},e.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(P,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No reviews yet"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Be the first to share your thoughts on this product."})]})]}),"shipping"===E&&r.jsx("div",{className:"prose max-w-none",children:r.jsx("p",{children:"Shipping info goes here..."})})]})]})})]}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-12",children:[r.jsx(J,{currentProduct:d,type:"frequently-bought",maxItems:3,showAddToCart:!0,className:"bg-neutral-50 rounded-2xl p-8"}),r.jsx(J,{currentProduct:d,type:"related",maxItems:4,showAddToCart:!0}),r.jsx(J,{currentProduct:d,type:"you-may-like",maxItems:6,showAddToCart:!0,layout:"grid"})]}),r.jsx(ge,{isOpen:F,onClose:()=>M(!1),title:"Write a Review",children:r.jsx(K,{onSubmit:async(e,s)=>{if(!o)return void y({type:"error",title:"Login Required",message:"You must be logged in to submit a review."});await c({product_id:d.id,user_id:o.id,rating:e,comment:s});const t=await n(d.id);b(t),y({type:"success",title:"Review Submitted",message:"Thank you for your feedback!"}),M(!1)}})})]})},Ae=Object.freeze(Object.defineProperty({__proto__:null,ProductDetailPage:_e,default:_e},Symbol.toStringTag,{value:"Module"})),Oe=()=>{const[s,t]=e(),[i,l]=a.useState(s.get("q")||""),[n,c]=a.useState(null),[o,d]=a.useState([]),{products:u}=je();a.useEffect(()=>{const e=s.get("q")||"";if(l(e),e.trim()){const s=u.filter(s=>s.name.toLowerCase().includes(e.toLowerCase())||s.description.toLowerCase().includes(e.toLowerCase())||s.category.toLowerCase().includes(e.toLowerCase())||s.tags&&s.tags.some(s=>s.toLowerCase().includes(e.toLowerCase())));d(s)}else d(u)},[s,u]);return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b sticky top-20 z-40",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsx("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&t({q:i.trim()})},className:"max-w-2xl mx-auto",children:r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Search for products, brands, categories...",className:"w-full pl-12 pr-12 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),r.jsx(x,{className:"absolute left-4 top-4 h-6 w-6 text-gray-400"}),i&&r.jsx("button",{type:"button",onClick:()=>{l(""),t({})},className:"absolute right-4 top-4 p-1 hover:bg-gray-100 rounded-full",children:r.jsx(m,{className:"h-4 w-4 text-gray-400"})})]})})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("div",{children:s.get("q")?r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:['Search Results for "',s.get("q"),'"']}),r.jsxs("p",{className:"text-gray-600 mt-1",children:[o.length," ",1===o.length?"product":"products"," found"]})]}):r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"All Products"}),r.jsxs("p",{className:"text-gray-600 mt-1",children:[o.length," products available"]})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{children:"Sort by: Relevance"}),r.jsx("option",{children:"Price: Low to High"}),r.jsx("option",{children:"Price: High to Low"}),r.jsx("option",{children:"Newest"}),r.jsx("option",{children:"Best Rating"})]}),r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(p,{className:"h-4 w-4"}),r.jsx("span",{children:"Filters"})]})]})]}),0===o.length?r.jsx("div",{className:"text-center py-16",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-6",children:"ðŸ”"}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:s.get("q")?"No products found":"Start your search"}),r.jsx("p",{className:"text-gray-600 mb-8",children:s.get("q")?"Try different keywords or browse our categories to find what you're looking for.":"Enter a search term above to find products, brands, or categories."}),s.get("q")&&r.jsx("button",{onClick:()=>{l(""),t({})},className:"btn-primary hover:scale-105 transition-transform duration-200",children:"Clear Search"})]})}):r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(e=>r.jsx("div",{children:r.jsx(V,{product:e})},e.id))}),o.length>20&&r.jsx("div",{className:"text-center mt-12",children:r.jsx("button",{className:"btn-primary hover:scale-105 transition-transform duration-200",children:"Load More Products"})})]}),n&&r.jsx(ee,{product:n,isOpen:!!n,onClose:()=>c(null)})]})},Ie=Object.freeze(Object.defineProperty({__proto__:null,SearchPage:Oe,default:Oe},Symbol.toStringTag,{value:"Module"})),Ee=()=>{const{collections:e,loading:s}=ke(),[t,i]=a.useState(""),[l,n]=a.useState("all"),[d,m]=a.useState("all"),[p,g]=a.useState("name"),[y,j]=a.useState("grid"),b=a.useMemo(()=>{let s=e.filter(e=>{var s;const a=e.name.toLowerCase().includes(t.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(t.toLowerCase()))||e.tags.some(e=>e.toLowerCase().includes(t.toLowerCase())),r="all"===l||e.type===l,i="all"===d||e.status===d;return a&&r&&i});return s.sort((e,s)=>{var t,a;switch(p){case"name":default:return e.name.localeCompare(s.name);case"type":return e.type.localeCompare(s.type);case"price":return(e.price||0)-(s.price||0);case"newest":return((null==(t=s.createdAt)?void 0:t.getTime())||0)-((null==(a=e.createdAt)?void 0:a.getTime())||0);case"featured":return Number(s.featured)-Number(e.featured)}}),s},[e,t,l,d,p]);return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(ce,{size:"lg"})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 text-white",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-4",children:"Exclusive Collections"}),r.jsx("p",{className:"text-xl md:text-2xl text-indigo-100 max-w-3xl mx-auto",children:"Discover our curated special collections featuring limited editions, seasonal blends, and exclusive collaborations crafted for the discerning connoisseur"})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search collections...",value:t,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsxs("select",{value:l,onChange:e=>n(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"heritage",children:"Heritage"}),r.jsx("option",{value:"seasonal",children:"Seasonal"}),r.jsx("option",{value:"limited",children:"Limited"}),r.jsx("option",{value:"exclusive",children:"Exclusive"}),r.jsx("option",{value:"signature",children:"Signature"}),r.jsx("option",{value:"modern",children:"Modern"})]}),r.jsxs("select",{value:d,onChange:e=>m(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Available"}),r.jsx("option",{value:"coming_soon",children:"Coming Soon"}),r.jsx("option",{value:"sold_out",children:"Sold Out"})]}),r.jsxs("select",{value:p,onChange:e=>g(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:"name",children:"Name"}),r.jsx("option",{value:"type",children:"Type"}),r.jsx("option",{value:"price",children:"Price"}),r.jsx("option",{value:"newest",children:"Newest"}),r.jsx("option",{value:"featured",children:"Featured"})]}),r.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[r.jsx("button",{onClick:()=>j("grid"),className:"px-3 py-3 "+("grid"===y?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:r.jsx(u,{className:"h-5 w-5"})}),r.jsx("button",{onClick:()=>j("list"),className:"px-3 py-3 "+("list"===y?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:r.jsx(h,{className:"h-5 w-5"})})]})]})]})}),r.jsx("div",{className:"mb-6",children:r.jsxs("p",{className:"text-gray-600",children:["Showing ",b.length," of ",e.length," collections"]})}),0===b.length?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(L,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No collections found"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]}):r.jsx("div",{className:"grid"===y?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-6",children:b.map((e,s)=>{const t=(e=>{switch(e){case"heritage":return _;case"seasonal":return T;case"limited":return o;case"exclusive":return f;case"signature":return c;case"modern":return E;default:return L}})(e.type),a=(e=>{const s={active:{text:"Available",color:"bg-green-100 text-green-800"},inactive:{text:"Unavailable",color:"bg-gray-100 text-gray-800"},coming_soon:{text:"Coming Soon",color:"bg-blue-100 text-blue-800"},sold_out:{text:"Sold Out",color:"bg-red-100 text-red-800"}};return s[e]||s.active})(e.status);return r.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"group bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden "+("list"===y?"flex":""),children:[r.jsxs("div",{className:"relative overflow-hidden "+("list"===y?"w-48 h-32":"h-48"),children:[r.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:e=>{e.target.src="/placeholder-collection.jpg"}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),r.jsx("div",{className:"absolute top-3 left-3",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.color}`,children:a.text})}),e.discount&&e.discount>0&&r.jsx("div",{className:"absolute top-3 right-3",children:r.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["-",e.discount,"%"]})}),e.featured&&r.jsx("div",{className:"absolute bottom-3 left-3",children:r.jsxs("span",{className:"bg-yellow-500 text-black px-2 py-1 rounded-full text-xs font-bold flex items-center space-x-1",children:[r.jsx(c,{className:"h-3 w-3"}),r.jsx("span",{children:"Featured"})]})}),e.isExclusive&&r.jsx("div",{className:"absolute bottom-3 right-3",children:r.jsxs("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center space-x-1",children:[r.jsx(_,{className:"h-3 w-3"}),r.jsx("span",{children:"Exclusive"})]})})]}),r.jsxs("div",{className:"p-6 "+("list"===y?"flex-1":""),children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(t,{className:"h-4 w-4 text-indigo-600"}),r.jsx("span",{className:"text-xs font-medium text-indigo-600 uppercase tracking-wider",children:e.type})]}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:e.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:e.shortDescription||e.description}),r.jsxs("div",{className:"flex items-center space-x-1 mb-4",children:[r.jsx(A,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[e.productCount," products"]})]}),e.price&&r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",e.price]}),e.originalPrice&&e.originalPrice>e.price&&r.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",e.originalPrice]})]}),r.jsxs(O,{to:`/collections/${e.slug}`,className:"w-full inline-flex items-center justify-center px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-sm font-medium rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 group",children:[r.jsx("span",{children:"Explore Collection"}),r.jsx(I,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})]},e.id)})})]})]})},Te=Object.freeze(Object.defineProperty({__proto__:null,CollectionsPage:Ee,default:Ee},Symbol.toStringTag,{value:"Module"})),Fe=()=>{const{user:e,signOut:s,updateProfile:t}=ye(),{showNotification:i}=fe(),{isOnline:l}=se(),[c,o]=a.useState("profile"),[d,x]=a.useState(!1),[u,h]=a.useState(!1),[p,g]=a.useState(!1),[y,j]=a.useState(null),[b]=a.useState({total:12,pending:2,completed:9,cancelled:1,totalSpent:2450}),[f]=a.useState({total:8,inStock:6,onSale:3}),[N,w]=a.useState({fullName:(null==e?void 0:e.name)||"",email:(null==e?void 0:e.email)||"",phone:(null==e?void 0:e.phone)||"",dateOfBirth:"",gender:"",bio:"",website:"",address:{line1:"",line2:"",city:"",state:"",postalCode:"",country:"United States"},preferences:{theme:"light",language:"en",currency:"USD",timezone:"UTC",emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,marketingEmails:!1,newsletterSubscription:!1},security:{twoFactorEnabled:!1,loginNotifications:!0,sessionTimeout:30},social:{},avatarUrl:(null==e?void 0:e.avatar)||""}),k=[{id:"profile",name:"Profile",icon:F,description:"Personal information"},{id:"orders",name:"Orders",icon:n,description:"Order history"},{id:"wishlist",name:"Wishlist",icon:v,description:"Saved items"},{id:"addresses",name:"Addresses",icon:D,description:"Shipping addresses"},{id:"security",name:"Security",icon:q,description:"Account security"},{id:"preferences",name:"Preferences",icon:W,description:"App settings"},{id:"data",name:"Data",icon:U,description:"Export & privacy"}],C=a.useCallback(async()=>{if(l){h(!0);try{await new Promise(e=>setTimeout(e,1e3)),await t({name:N.fullName,phone:N.phone,avatar:N.avatarUrl}),i({type:"success",title:"Profile Updated",message:"Your profile has been updated successfully."}),x(!1)}catch(e){i({type:"error",title:"Update Failed",message:"Failed to update profile. Please try again."})}finally{h(!1)}}else i({type:"warning",title:"Offline Mode",message:"Profile updates require an internet connection."})},[N,t,i,l]),S=a.useCallback(async e=>{if(e){h(!0);try{const s=URL.createObjectURL(e);w(e=>({...e,avatarUrl:s})),j(e),i({type:"success",title:"Avatar Updated",message:"Profile picture updated successfully."})}catch(s){i({type:"error",title:"Upload Failed",message:"Failed to upload avatar. Please try again."})}finally{h(!1)}}},[i]),P=a.useCallback(async()=>{h(!0);try{const e={profile:N,orders:b,wishlist:f,exportDate:(new Date).toISOString()},s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`profile-data-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t),i({type:"success",title:"Data Exported",message:"Your data has been exported successfully."})}catch(e){i({type:"error",title:"Export Failed",message:"Failed to export data. Please try again."})}finally{h(!1)}},[N,b,f,i]);return a.useEffect(()=>{"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription()).then(e=>{!e&&N.preferences.pushNotifications&&Notification.requestPermission().then(e=>{"granted"===e&&i({type:"success",title:"Notifications Enabled",message:"You'll receive important updates about your orders."})})}).catch(console.error);const e=()=>{i({type:"success",title:"Back Online",message:"Your profile data will sync automatically."})},s=()=>{i({type:"warning",title:"Offline Mode",message:"Some features may be limited while offline."})};return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[N.preferences.pushNotifications,i]),e?r.jsxs("div",{className:"min-h-screen bg-background-primary",children:[r.jsx(re,{}),r.jsxs("div",{className:"container mx-auto px-4 py-6",children:[r.jsx("div",{className:"mb-8",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"My Profile"}),r.jsx("p",{className:"text-text-secondary",children:"Manage your account settings and preferences"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>x(!d),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[d?r.jsx(m,{className:"w-4 h-4"}):r.jsx(M,{className:"w-4 h-4"}),d?"Cancel":"Edit Profile"]}),r.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[r.jsx(R,{className:"w-4 h-4"}),"Sign Out"]})]})]})}),r.jsx("div",{className:"mb-8",children:r.jsx("div",{className:"border-b border-border-primary",children:r.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:k.map(e=>{const s=e.icon;return r.jsxs("button",{onClick:()=>o(e.id),className:"flex items-center gap-2 py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap transition-colors "+(c===e.id?"border-primary-600 text-primary-600":"border-transparent text-text-secondary hover:text-text-primary hover:border-border-secondary"),children:[r.jsx(s,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:e.name})]},e.id)})})})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 sticky top-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsxs("div",{className:"relative inline-block",children:[r.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white text-2xl font-bold overflow-hidden",children:N.avatarUrl?r.jsx("img",{src:N.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"}):N.fullName.charAt(0).toUpperCase()}),d&&r.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-primary-600 text-white rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:[r.jsx(B,{className:"w-4 h-4"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];t&&S(t)}})]})]}),r.jsx("h3",{className:"text-lg font-semibold text-text-primary mt-3",children:N.fullName||"Your Name"}),r.jsx("p",{className:"text-text-secondary text-sm",children:N.email}),!l&&r.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2 text-orange-600 text-sm",children:[r.jsx(H,{className:"w-4 h-4"}),"Offline Mode"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-background-tertiary rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(n,{className:"w-4 h-4 text-primary-600"}),r.jsx("span",{className:"text-sm text-text-secondary",children:"Orders"})]}),r.jsx("span",{className:"font-semibold text-text-primary",children:b.total})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-background-tertiary rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(v,{className:"w-4 h-4 text-red-500"}),r.jsx("span",{className:"text-sm text-text-secondary",children:"Wishlist"})]}),r.jsx("span",{className:"font-semibold text-text-primary",children:f.total})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-background-tertiary rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(z,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-sm text-text-secondary",children:"Total Spent"})]}),r.jsxs("span",{className:"font-semibold text-text-primary",children:["$",b.totalSpent.toFixed(2)]})]})]})]})}),r.jsx("div",{className:"lg:col-span-3",children:r.jsxs(Ce,{mode:"wait",children:["profile"===c&&r.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background-secondary rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Personal Information"}),d&&r.jsxs("button",{onClick:C,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u?r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsx($,{className:"w-4 h-4"}),"Save Changes"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Full Name"}),r.jsx("input",{type:"text",value:N.fullName,onChange:e=>w(s=>({...s,fullName:e.target.value})),disabled:!d,className:"w-full px-4 py-3 bg-background-primary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50",placeholder:"Enter your full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email Address"}),r.jsx("input",{type:"email",value:N.email,onChange:e=>w(s=>({...s,email:e.target.value})),disabled:!d,className:"w-full px-4 py-3 bg-background-primary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50",placeholder:"Enter your email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:N.phone,onChange:e=>w(s=>({...s,phone:e.target.value})),disabled:!d,className:"w-full px-4 py-3 bg-background-primary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50",placeholder:"Enter your phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Date of Birth"}),r.jsx("input",{type:"date",value:N.dateOfBirth,onChange:e=>w(s=>({...s,dateOfBirth:e.target.value})),disabled:!d,className:"w-full px-4 py-3 bg-background-primary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50"})]})]})]},"profile"),"orders"===c&&r.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background-secondary rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-6",children:"Order History"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(n,{className:"w-8 h-8 text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-text-primary",children:b.total}),r.jsx("p",{className:"text-sm text-text-secondary",children:"Total Orders"})]})]})}),r.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-text-primary",children:b.pending}),r.jsx("p",{className:"text-sm text-text-secondary",children:"Pending"})]})]})}),r.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Y,{className:"w-4 h-4 text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-text-primary",children:b.completed}),r.jsx("p",{className:"text-sm text-text-secondary",children:"Completed"})]})]})}),r.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(z,{className:"w-8 h-8 text-green-500"}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-text-primary",children:["$",b.totalSpent.toFixed(2)]}),r.jsx("p",{className:"text-sm text-text-secondary",children:"Total Spent"})]})]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"Recent Orders"}),[1,2,3].map(e=>r.jsxs("div",{className:"border border-border-primary rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium text-text-primary",children:["Order #ORD-2024-",e.toString().padStart(4,"0")]}),r.jsxs("p",{className:"text-sm text-text-secondary",children:["Placed on January ",e+10,", 2024"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-medium text-text-primary",children:["$",(200*Math.random()+50).toFixed(2)]}),r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(1===e?"bg-green-100 text-green-800":2===e?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:1===e?"Delivered":2===e?"Shipped":"Processing"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-background-primary rounded-lg flex items-center justify-center",children:r.jsx(n,{className:"w-6 h-6 text-text-secondary"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-text-primary",children:"Premium Perfume Collection"}),r.jsxs("p",{className:"text-xs text-text-secondary",children:[Math.floor(3*Math.random())+1," items"]})]}),r.jsx("button",{className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Details"})]})]},e))]})]},"orders"),"wishlist"===c&&r.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background-secondary rounded-xl p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"My Wishlist"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[r.jsx(v,{className:"w-4 h-4"}),f.total," items saved"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[r.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(v,{className:"w-6 h-6 text-red-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xl font-bold text-text-primary",children:f.total}),r.jsx("p",{className:"text-sm text-text-secondary",children:"Total Items"})]})]})}),r.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Y,{className:"w-3 h-3 text-green-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xl font-bold text-text-primary",children:f.inStock}),r.jsx("p",{className:"text-sm text-text-secondary",children:"In Stock"})]})]})}),r.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-bold text-orange-500",children:"%"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xl font-bold text-text-primary",children:f.onSale}),r.jsx("p",{className:"text-sm text-text-secondary",children:"On Sale"})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(e=>r.jsxs("div",{className:"border border-border-primary rounded-lg p-4 group hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"aspect-square bg-background-primary rounded-lg mb-3 flex items-center justify-center",children:r.jsx(n,{className:"w-8 h-8 text-text-secondary"})}),r.jsxs("h4",{className:"font-medium text-text-primary mb-1",children:["Premium Perfume ",e]}),r.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"Luxury Collection"}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-bold text-text-primary",children:["$",(100*Math.random()+50).toFixed(2)]}),Math.random()>.5&&r.jsx("span",{className:"text-xs text-red-500 ml-2",children:"On Sale!"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{className:"p-1 text-text-secondary hover:text-red-500 transition-colors",children:r.jsx(Z,{className:"w-4 h-4"})}),r.jsx("button",{className:"px-3 py-1 bg-primary-600 text-white text-sm rounded hover:bg-primary-700 transition-colors",children:"Add to Cart"})]})]})]},e))})]},"wishlist"),"security"===c&&r.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background-secondary rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-6",children:"Security Settings"}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"border border-border-primary rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-text-primary",children:"Password"}),r.jsx("p",{className:"text-sm text-text-secondary",children:"Last changed 3 months ago"})]}),r.jsx("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Change Password"})]})}),r.jsxs("div",{className:"border border-border-primary rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-text-primary",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-text-secondary",children:N.security.twoFactorEnabled?"Enabled":"Add an extra layer of security"})]}),r.jsxs("button",{onClick:()=>w(e=>({...e,security:{...e.security,twoFactorEnabled:!e.security.twoFactorEnabled}})),className:"px-4 py-2 rounded-lg transition-colors "+(N.security.twoFactorEnabled?"bg-red-600 text-white hover:bg-red-700":"bg-primary-600 text-white hover:bg-primary-700"),children:[N.security.twoFactorEnabled?"Disable":"Enable"," 2FA"]})]}),N.security.twoFactorEnabled&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(q,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-800",children:"Two-factor authentication is active"})]})})]}),r.jsx("div",{className:"border border-border-primary rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-text-primary",children:"Login Notifications"}),r.jsx("p",{className:"text-sm text-text-secondary",children:"Get notified of new sign-ins"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:N.security.loginNotifications,onChange:e=>w(s=>({...s,security:{...s.security,loginNotifications:e.target.checked}})),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})}),r.jsx("div",{className:"border border-border-primary rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-text-primary",children:"Session Timeout"}),r.jsx("p",{className:"text-sm text-text-secondary",children:"Automatically sign out after inactivity"})]}),r.jsxs("select",{value:N.security.sessionTimeout,onChange:e=>w(s=>({...s,security:{...s.security,sessionTimeout:parseInt(e.target.value)}})),className:"px-3 py-2 bg-background-primary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[r.jsx("option",{value:15,children:"15 minutes"}),r.jsx("option",{value:30,children:"30 minutes"}),r.jsx("option",{value:60,children:"1 hour"}),r.jsx("option",{value:120,children:"2 hours"}),r.jsx("option",{value:0,children:"Never"})]})]})})]})]},"security"),"data"===c&&r.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background-secondary rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-6",children:"Data & Privacy"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border border-border-primary rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-text-primary",children:"Export Your Data"}),r.jsx("p",{className:"text-sm text-text-secondary",children:"Download a copy of your account data"})]}),r.jsxs("button",{onClick:P,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u?r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsx(U,{className:"w-4 h-4"}),"Export Data"]})]}),r.jsxs("div",{className:"text-sm text-text-secondary",children:[r.jsx("p",{children:"Your export will include:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"Profile information"}),r.jsx("li",{children:"Order history"}),r.jsx("li",{children:"Wishlist items"}),r.jsx("li",{children:"Addresses"}),r.jsx("li",{children:"Preferences"})]})]})]}),r.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-red-800",children:"Delete Account"}),r.jsx("p",{className:"text-sm text-red-600",children:"Permanently delete your account and all data"})]}),r.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]}),r.jsxs("div",{className:"text-sm text-red-600",children:[r.jsx("p",{className:"font-medium",children:"This action cannot be undone. This will:"}),r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsx("li",{children:"Delete your profile and account"}),r.jsx("li",{children:"Remove all your orders and data"}),r.jsx("li",{children:"Cancel any active subscriptions"}),r.jsx("li",{children:"Remove you from all mailing lists"})]})]})]})]})]},"data")]})})]})]})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-primary",children:r.jsxs("div",{className:"text-center",children:[r.jsx(F,{className:"w-16 h-16 text-text-secondary mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Sign In Required"}),r.jsx("p",{className:"text-text-secondary",children:"Please sign in to view your profile."})]})})},Me=Object.freeze(Object.defineProperty({__proto__:null,ProductionProfilePage:Fe,default:Fe},Symbol.toStringTag,{value:"Module"}));export{Te as C,Le as P,Ie as S,Ae as a,Me as b};
//# sourceMappingURL=pages-catalog-Bd_W_j1L.js.map
