import{c as q,j as e,o as K,A as J,m as L,E as ee,S as se,b as _,n as X,p as R,q as ae,r as te,t as re,v as ne,H as le,w as ie,x as oe,X as Y,g as W,P as ce,C as Z,M as de,y as ue,u as me,z as xe,B as ge,R as he,L as fe,D as pe}from"./index-CZfeFpFF.js";import{r as f,L as V,R as z,e as ye,f as be}from"./router-ji7Lkway.js";import{d as je,P as ve}from"./ProductCard-DISxUm5d.js";import{M as Ne}from"./TrustSignals-DhYlgKdg.js";import{F as we}from"./funnel-DgqMlj7t.js";import{D as Ce,C as ke,N as Le,P as H}from"./ErrorFallback-BQ-PEhTW.js";import{T as Se,C as Pe}from"./truck-CLaVScap.js";import{b as Ie}from"./MobileProductCarousel-C3pRfQE8.js";import{R as Fe}from"./rotate-ccw-DHyFyuU3.js";import{U as $e}from"./users-DYlva5Sj.js";import{G}from"./grid-3x3-7auf-lsj.js";import{L as Re}from"./list-C_btKZ91.js";import"./vendor-DRGAkOw0.js";import"./SocialProof-qZkkTpQc.js";import"./MobileTouchButton-C8zq9LKe.js";import"./chevron-left-C9hlcGbE.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Q=q("droplets",Me);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]],Ae=q("flower-2",Oe),Ee=({className:s=""})=>{const[y,p]=f.useState(0),[c,u]=f.useState(0);f.useEffect(()=>{const b=()=>{p(Math.floor(Math.random()*50)+15)},v=()=>{u(Math.floor(Math.random()*20)+5)};b(),v();const P=setInterval(b,8e3),i=setInterval(v,12e3);return()=>{clearInterval(P),clearInterval(i)}},[]);const N=[{icon:K,title:"Secure Shopping",description:"256-bit SSL encryption"},{icon:Se,title:"Free Shipping",description:"On orders over $50"},{icon:Fe,title:"Easy Returns",description:"30-day return policy"},{icon:J,title:"Quality Guarantee",description:"Premium products only"}];return e.jsxs("div",{className:`space-y-6 ${s}`,children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:N.map((b,v)=>e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-white rounded-luxury p-4 text-center border border-neutral-100 hover:border-neutral-200 transition-colors duration-200",children:[e.jsx(b.icon,{className:"h-6 w-6 text-neutral-600 mx-auto mb-2"}),e.jsx("h4",{className:"text-sm font-semibold text-neutral-900 mb-1",children:b.title}),e.jsx("p",{className:"text-xs text-neutral-600",children:b.description})]},b.title))}),e.jsx("div",{className:"bg-gradient-to-r from-neutral-50 to-white rounded-luxury-lg p-6 border border-neutral-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(L.div,{className:"flex items-center space-x-3",initial:{scale:1},animate:{scale:[1,1.05,1]},transition:{duration:.3},children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(ee,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-neutral-900",children:[y," people"]}),e.jsx("p",{className:"text-xs text-neutral-600",children:"viewing now"})]})]},y),e.jsxs(L.div,{className:"flex items-center space-x-3",initial:{scale:1},animate:{scale:[1,1.05,1]},transition:{duration:.3},children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:e.jsx(se,{className:"h-4 w-4 text-green-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-neutral-900",children:[c," sold"]}),e.jsx("p",{className:"text-xs text-neutral-600",children:"in last 24h"})]})]},c),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:e.jsx(_,{className:"h-4 w-4 text-yellow-600 fill-current"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:"4.8/5 rating"}),e.jsx("p",{className:"text-xs text-neutral-600",children:"from 2,847 reviews"})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-neutral-600",children:[e.jsx(K,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"SSL Secured"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-neutral-600",children:[e.jsx(X,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Verified Store"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-neutral-600",children:[e.jsx($e,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"50K+ Customers"})]})]})]})},Te=({productName:s,customerLocation:y,timeAgo:p})=>{const[c,u]=f.useState(!1);return f.useEffect(()=>{const N=setTimeout(()=>u(!0),Math.random()*5e3+2e3),b=setTimeout(()=>u(!1),8e3);return()=>{clearTimeout(N),clearTimeout(b)}},[]),e.jsx(R,{children:c&&e.jsx(L.div,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"fixed bottom-6 left-6 bg-white rounded-luxury-lg shadow-luxury border border-neutral-200 p-4 max-w-sm z-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-full flex-shrink-0",children:e.jsx(X,{className:"h-4 w-4 text-green-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:s}),e.jsxs("p",{className:"text-xs text-neutral-600",children:["Purchased by someone in ",y]}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:p})]})]})})})},Be=({product:s})=>{const{addItem:y}=ae(),{addItem:p,isInWishlist:c}=te(),{addItem:u,isInCompare:N}=re(),{showSuccess:b}=ne(),[v,P]=f.useState(0),i=m=>{m.stopPropagation(),m.preventDefault(),s.stock>0&&(y(s),b(`${s.name} has been added to your cart.`,"Added to Cart"))},$=m=>{m.stopPropagation(),m.preventDefault(),p(s)},I=m=>{m.stopPropagation(),m.preventDefault(),u(s)},w=s.originalPrice?Math.round((s.originalPrice-s.price)/s.originalPrice*100):0;return s.stock===0?{text:"Out of Stock",color:"bg-red-500",textColor:"text-red-600"}:s.stock<=5?{text:"Low Stock",color:"bg-orange-500",textColor:"text-orange-600"}:{text:"In Stock",color:"bg-green-500",textColor:"text-green-600"},e.jsxs("div",{className:"product-list-card group flex flex-col sm:flex-row bg-white rounded-lg sm:rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-100 touch-manipulation",onMouseEnter:()=>{je.preloadProduct(s.id,{priority:"high"})},children:[e.jsxs("div",{className:"relative overflow-hidden group/image bg-gray-50 sm:w-48 flex-shrink-0",children:[e.jsx(V,{to:`/products/${s.id}`,className:"block h-full",children:e.jsxs("div",{className:"aspect-[4/3] sm:aspect-square h-full relative overflow-hidden",children:[e.jsx("img",{src:s.images[v]||s.images[0],alt:s.name,className:"w-full h-full object-cover",loading:"lazy",crossOrigin:"anonymous",onError:m=>{const r=m.target;r.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgZmlsbD0iI2Y5ZmFmYiIvPgogIDx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LXNpemU9IjE2IiBmaWxsPSIjNjM3MzgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2UgTm90IEZvdW5kPC90ZXh0Pgo8L3N2Zz4="}},v),s.images.length>1&&e.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.images.map((m,r)=>e.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),P(r)},className:`w-1.5 h-1.5 rounded-full transition-colors duration-150 ${r===v?"bg-white shadow-md":"bg-white/70 hover:bg-white/90"}`,"aria-label":`View image ${r+1}`},`image-nav-list-${s.id}-${r}`))}),e.jsx("div",{className:"absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col space-y-1 z-10",children:[w>0&&e.jsxs("span",{className:"bg-red-600 text-white text-[10px] px-1.5 py-0.5 rounded font-medium shadow-sm",children:["-",w,"% OFF"]}),s.stock<=0&&e.jsx("span",{className:"bg-gray-500 text-white text-[10px] px-1.5 py-0.5 rounded font-medium shadow-sm",children:"Out of Stock"})]})]}),e.jsx("div",{className:"flex-1 p-4 sm:p-5 flex flex-col",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("span",{className:"text-xs text-gray-600 uppercase tracking-wide font-medium",children:s.category}),e.jsx(V,{to:`/products/${s.id}`,children:e.jsx("h3",{className:"text-lg font-medium text-gray-900 group-hover:text-blue-600 transition-colors duration-200",children:s.name})}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"flex items-center space-x-0.5",children:[...Array(5)].map((m,r)=>e.jsx(_,{className:`h-4 w-4 ${r<Math.floor(s.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},`star-${s.id}-${r}`))}),e.jsxs("span",{className:"text-sm text-gray-600",children:["(",s.rating,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["â‚¹",s.price.toLocaleString("en-IN")]}),s.originalPrice&&e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["â‚¹",s.originalPrice.toLocaleString("en-IN")]}),w>0&&e.jsxs("span",{className:"bg-red-100 text-red-700 text-xs font-semibold px-1.5 py-0.5 rounded",children:[w,"% OFF"]})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:`text-sm font-medium ${s.stock>0?"text-green-600":"text-red-500"}`,children:s.stock>0?s.stock>10?"In Stock":`Only ${s.stock} left`:"Out of stock"})}),e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsx(Ne,{freeShipping:s.price>=2e3,warranty:!0,returns:!0,className:"justify-start"})})]}),e.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-4 sm:items-end",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:$,className:`p-2 rounded-full shadow-sm border transition-colors duration-200 ${c(s.id)?"bg-red-50 text-red-600 border-red-200":"bg-white text-gray-600 hover:text-red-500 border-gray-200 hover:border-red-200"} touch-manipulation`,children:e.jsx(le,{className:`h-4 w-4 ${c(s.id)?"fill-current":""}`})}),e.jsx("button",{onClick:I,className:`p-2 rounded-full shadow-sm border transition-colors duration-200 ${N(s.id)?"bg-blue-50 text-blue-600 border-blue-200":"bg-white text-gray-600 hover:text-blue-500 border-gray-200 hover:border-blue-200"} touch-manipulation`,children:e.jsx(ie,{className:"h-4 w-4"})})]}),e.jsxs("button",{onClick:i,disabled:s.stock===0,className:`flex items-center justify-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors duration-200 ${s.stock===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600 shadow-sm active:bg-orange-700"} touch-manipulation min-w-[140px]`,children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:s.stock===0?"Out of Stock":"Add to Cart"})]})]})]})})]})},De=[{value:"light",label:"Light (2-4 hours)",icon:"ðŸŒ¸"},{value:"moderate",label:"Moderate (4-8 hours)",icon:"ðŸŒº"},{value:"long",label:"Long-lasting (8-12 hours)",icon:"ðŸŒ¹"},{value:"very-long",label:"Very Long (12+ hours)",icon:"ðŸ‘‘"}],Ke=[{value:"intimate",label:"Intimate (Close to skin)",icon:"ðŸ¤"},{value:"moderate",label:"Moderate (Arm's length)",icon:"ðŸ«´"},{value:"strong",label:"Strong (Room filling)",icon:"ðŸ’¨"},{value:"very-strong",label:"Very Strong (Projection)",icon:"âœ¨"}],We=[{value:"pure-oil",label:"Pure Oil",premium:!0},{value:"concentrated",label:"Concentrated",premium:!0},{value:"diluted",label:"Diluted"},{value:"blend",label:"Blend"}],Ze=[{value:"kannauj",label:"Kannauj, India",flag:"ðŸ‡®ðŸ‡³"},{value:"mysore",label:"Mysore, Karnataka",flag:"ðŸ‡®ðŸ‡³"},{value:"kashmir",label:"Kashmir, India",flag:"ðŸ‡®ðŸ‡³"},{value:"assam",label:"Assam, India",flag:"ðŸ‡®ðŸ‡³"},{value:"bulgarian",label:"Bulgaria (Rose Oil)",flag:"ðŸ‡§ðŸ‡¬"},{value:"cambodian",label:"Cambodia (Oudh)",flag:"ðŸ‡°ðŸ‡­"},{value:"arabian",label:"Arabian Peninsula",flag:"ðŸ‡¸ðŸ‡¦"}],Ve=[{value:"floral",label:"Floral",icon:"ðŸŒ¸"},{value:"woody",label:"Woody",icon:"ðŸŒ³"},{value:"oriental",label:"Oriental",icon:"ðŸº"},{value:"spicy",label:"Spicy",icon:"ðŸŒ¶ï¸"},{value:"fresh",label:"Fresh",icon:"ðŸ’§"},{value:"musky",label:"Musky",icon:"ðŸ¦Œ"},{value:"citrus",label:"Citrus",icon:"ðŸŠ"},{value:"herbal",label:"Herbal",icon:"ðŸŒ¿"}],U=({filters:s,onFiltersChange:y,categories:p,isOpen:c,onToggle:u,productCount:N,className:b=""})=>{const[v,P]=f.useState({category:!0,price:!0,longevity:!0,sillage:!0,concentration:!0,origins:!1,fragranceFamily:!1}),i=(r,t)=>{y({...s,[r]:t})},$=r=>{P(t=>({...t,[r]:!t[r]}))},I=()=>{y({category:"",priceRange:[0,25e3],rating:0,inStock:!1,brands:[],longevity:[],sillage:[],concentration:[],origins:[],fragranceFamily:[],sortBy:"featured",search:""})},w=[s.category&&s.category!==""?1:0,s.priceRange[0]>0||s.priceRange[1]<25e3?1:0,s.longevity.length,s.sillage.length,s.concentration.length,s.origins.length,s.fragranceFamily.length].reduce((r,t)=>r+t,0),j=({title:r,icon:t,sectionKey:d,children:h,premium:C=!1})=>e.jsxs("div",{className:"border-b border-neutral-100 last:border-b-0",children:[e.jsxs("button",{onClick:()=>$(d),className:"w-full flex items-center justify-between py-4 text-left hover:bg-neutral-25 rounded-lg transition-colors px-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`${C?"text-amber-500":"text-neutral-600"}`,children:t}),e.jsxs("span",{className:`font-medium text-sm ${C?"text-amber-900":"text-neutral-900"}`,children:[r,C&&e.jsx(Z,{className:"inline h-3 w-3 ml-1 text-amber-500"})]})]}),v[d]?e.jsx(ke,{className:"h-4 w-4 text-neutral-500"}):e.jsx(ue,{className:"h-4 w-4 text-neutral-500"})]}),e.jsx(R,{children:v[d]&&e.jsx(L.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeOut"},className:"overflow-hidden",children:e.jsx("div",{className:"pb-4 px-2",children:h})})})]}),m=({label:r,isActive:t,onClick:d,icon:h,premium:C=!1})=>e.jsxs("button",{onClick:d,className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 ${t?C?"bg-amber-50 text-amber-700 border border-amber-300 shadow-sm":"bg-neutral-100 text-neutral-700 border border-neutral-300 shadow-sm":"bg-white text-neutral-600 border border-neutral-200 hover:bg-neutral-50 hover:border-neutral-300"}`,children:[h&&e.jsx("span",{className:"text-xs",children:h}),e.jsx("span",{children:r})]});return e.jsxs("div",{className:`bg-white rounded-xl shadow-luxury border border-neutral-200 flex flex-col h-full ${b}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-100 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-br from-neutral-100 to-neutral-200 rounded-lg",children:e.jsx(we,{className:"h-4 w-4 text-neutral-700"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-900 text-base",children:"Attar Filters"}),e.jsx("p",{className:"text-xs text-neutral-500",children:"Discover your perfect fragrance"})]}),w>0&&e.jsxs("span",{className:"bg-gradient-to-r from-amber-100 to-orange-100 text-amber-700 px-3 py-1 rounded-full text-xs font-medium border border-amber-200",children:[w," active"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[w>0&&e.jsx("button",{onClick:I,className:"text-xs text-neutral-600 hover:text-neutral-900 transition-colors font-medium",children:"Clear all"}),e.jsx("button",{onClick:u,className:"lg:hidden p-2 hover:bg-neutral-100 rounded-lg transition-colors",children:e.jsx(Y,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-neutral-25 to-white border-b border-neutral-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-neutral-600",children:[e.jsx("span",{className:"font-semibold text-neutral-900",children:N})," exquisite attars found"]}),e.jsx(W,{className:"h-4 w-4 text-amber-500"})]})}),e.jsxs("div",{className:"p-6 border-b border-neutral-100 flex-shrink-0",children:[e.jsxs("h4",{className:"text-sm font-medium text-neutral-900 mb-3 flex items-center",children:[e.jsx(Q,{className:"h-4 w-4 mr-2 text-neutral-600"}),"Quick Filters"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(m,{label:"Pure Oil",isActive:s.concentration.includes("pure-oil"),onClick:()=>{const r=s.concentration.includes("pure-oil")?s.concentration.filter(t=>t!=="pure-oil"):[...s.concentration,"pure-oil"];i("concentration",r)},icon:"ðŸ’Ž",premium:!0}),e.jsx(m,{label:"Long-lasting",isActive:s.longevity.includes("very-long"),onClick:()=>{const r=s.longevity.includes("very-long")?s.longevity.filter(t=>t!=="very-long"):[...s.longevity,"very-long"];i("longevity",r)},icon:"â°"}),e.jsx(m,{label:"Strong Sillage",isActive:s.sillage.includes("very-strong"),onClick:()=>{const r=s.sillage.includes("very-strong")?s.sillage.filter(t=>t!=="very-strong"):[...s.sillage,"very-strong"];i("sillage",r)},icon:"ðŸ’¨"}),e.jsx(m,{label:"Premium",isActive:s.priceRange[0]>=1e4,onClick:()=>{i("priceRange",s.priceRange[0]>=1e4?[0,25e3]:[1e4,25e3])},icon:"ðŸ‘‘",premium:!0})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:e.jsxs("div",{className:"space-y-0",children:[e.jsx(j,{title:"Attar Categories",icon:e.jsx(ce,{className:"h-5 w-5"}),sectionKey:"category",children:e.jsxs("div",{className:"space-y-3 max-h-40 overflow-y-auto pr-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"category",checked:!s.category||s.category==="",onChange:()=>i("category",""),className:"form-radio text-neutral-600 focus:ring-neutral-500 h-4 w-4"}),e.jsx("span",{className:"text-neutral-700 group-hover:text-neutral-900 transition-colors text-sm font-medium",children:"All Categories"})]}),p.map((r,t)=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"category",checked:s.category===r.name,onChange:()=>i("category",r.name),className:"form-radio text-neutral-600 focus:ring-neutral-500 h-4 w-4"}),e.jsx("span",{className:"text-neutral-700 group-hover:text-neutral-900 transition-colors text-sm",children:r.name}),e.jsx("span",{className:"text-xs text-neutral-400 ml-auto bg-neutral-100 px-2 py-1 rounded-full",children:r.productCount})]},`category-${r.id}-${t}`))]})}),e.jsx(j,{title:"Price Range (â‚¹)",icon:e.jsx(Ce,{className:"h-5 w-5"}),sectionKey:"price",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-2 font-medium",children:"Minimum"}),e.jsx("input",{type:"number",value:s.priceRange[0],onChange:r=>i("priceRange",[parseInt(r.target.value)||0,s.priceRange[1]]),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-neutral-200 focus:border-neutral-400 transition-all",placeholder:"1000"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-neutral-600 mb-2 font-medium",children:"Maximum"}),e.jsx("input",{type:"number",value:s.priceRange[1],onChange:r=>i("priceRange",[s.priceRange[0],parseInt(r.target.value)||25e3]),className:"w-full px-3 py-2 border border-neutral-300 rounded-lg text-sm focus:ring-2 focus:ring-neutral-200 focus:border-neutral-400 transition-all",placeholder:"25000"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-500",children:[e.jsxs("span",{children:["â‚¹",s.priceRange[0].toLocaleString("en-IN")]}),e.jsxs("span",{children:["â‚¹",s.priceRange[1].toLocaleString("en-IN")]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[{range:[1e3,5e3],label:"â‚¹1K - â‚¹5K",desc:"Premium"},{range:[5e3,1e4],label:"â‚¹5K - â‚¹10K",desc:"Luxury"},{range:[1e4,15e3],label:"â‚¹10K - â‚¹15K",desc:"Elite"},{range:[15e3,25e3],label:"â‚¹15K+",desc:"Royal"}].map(({range:r,label:t,desc:d},h)=>e.jsxs("button",{onClick:()=>i("priceRange",r),className:"px-3 py-3 text-xs border border-neutral-300 rounded-lg hover:bg-neutral-50 transition-all text-left",children:[e.jsx("div",{className:"font-medium text-neutral-700",children:t}),e.jsx("div",{className:"text-neutral-500 text-xs",children:d})]},`price-range-${h}`))})]})}),e.jsx(j,{title:"Longevity",icon:e.jsx(Pe,{className:"h-5 w-5"}),sectionKey:"longevity",premium:!0,children:e.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto pr-2",children:De.map((r,t)=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:s.longevity.includes(r.value),onChange:d=>{d.target.checked?i("longevity",[...s.longevity,r.value]):i("longevity",s.longevity.filter(h=>h!==r.value))},className:"form-checkbox h-4 w-4 text-amber-600 rounded focus:ring-amber-500"}),e.jsx("span",{className:"text-lg",children:r.icon}),e.jsx("span",{className:"text-neutral-700 group-hover:text-neutral-900 transition-colors text-sm",children:r.label})]},`longevity-${r.value}-${t}`))})}),e.jsx(j,{title:"Sillage (Projection)",icon:e.jsx(W,{className:"h-5 w-5"}),sectionKey:"sillage",premium:!0,children:e.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto pr-2",children:Ke.map((r,t)=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:s.sillage.includes(r.value),onChange:d=>{d.target.checked?i("sillage",[...s.sillage,r.value]):i("sillage",s.sillage.filter(h=>h!==r.value))},className:"form-checkbox h-4 w-4 text-amber-600 rounded focus:ring-amber-500"}),e.jsx("span",{className:"text-lg",children:r.icon}),e.jsx("span",{className:"text-neutral-700 group-hover:text-neutral-900 transition-colors text-sm",children:r.label})]},`sillage-${r.value}-${t}`))})}),e.jsx(j,{title:"Concentration",icon:e.jsx(Q,{className:"h-5 w-5"}),sectionKey:"concentration",premium:!0,children:e.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto pr-2",children:We.map((r,t)=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:s.concentration.includes(r.value),onChange:d=>{d.target.checked?i("concentration",[...s.concentration,r.value]):i("concentration",s.concentration.filter(h=>h!==r.value))},className:`form-checkbox h-4 w-4 rounded focus:ring-amber-500 ${r.premium?"text-amber-600":"text-neutral-600"}`}),e.jsxs("span",{className:`text-neutral-700 group-hover:text-neutral-900 transition-colors text-sm ${r.premium?"font-medium":""}`,children:[r.label,r.premium&&e.jsx(Z,{className:"inline h-3 w-3 ml-1 text-amber-500"})]})]},`concentration-${r.value}-${t}`))})}),e.jsx(j,{title:"Origin",icon:e.jsx(de,{className:"h-5 w-5"}),sectionKey:"origins",children:e.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto pr-2",children:Ze.map((r,t)=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:s.origins.includes(r.value),onChange:d=>{d.target.checked?i("origins",[...s.origins,r.value]):i("origins",s.origins.filter(h=>h!==r.value))},className:"form-checkbox h-4 w-4 text-neutral-600 rounded focus:ring-neutral-500"}),e.jsx("span",{className:"text-lg",children:r.flag}),e.jsx("span",{className:"text-neutral-700 group-hover:text-neutral-900 transition-colors text-sm",children:r.label})]},`origin-${r.value}-${t}`))})}),e.jsx(j,{title:"Fragrance Family",icon:e.jsx(Ae,{className:"h-5 w-5"}),sectionKey:"fragranceFamily",children:e.jsx("div",{className:"flex flex-wrap gap-2 max-h-40 overflow-y-auto pr-2 pb-2",children:Ve.map((r,t)=>e.jsxs("button",{onClick:()=>{s.fragranceFamily.includes(r.value)?i("fragranceFamily",s.fragranceFamily.filter(d=>d!==r.value)):i("fragranceFamily",[...s.fragranceFamily,r.value])},className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 ${s.fragranceFamily.includes(r.value)?"bg-gradient-to-r from-neutral-100 to-neutral-200 text-neutral-700 border border-neutral-300 shadow-sm":"bg-white text-neutral-600 border border-neutral-200 hover:bg-neutral-50 hover:border-neutral-300"}`,children:[e.jsx("span",{children:r.icon}),e.jsx("span",{children:r.label})]},`fragrance-family-${r.value}-${t}`))})})]})})]})},ze=()=>{const[s,y]=z.useState(navigator.onLine);return z.useEffect(()=>{const p=()=>y(!0),c=()=>y(!1);return window.addEventListener("online",p),window.addEventListener("offline",c),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",c)}},[]),s},is=()=>{const[s,y]=ye(),{slug:p}=be(),{products:c,categories:u,loading:N,basicLoading:b,detailsLoading:v,fetchProducts:P}=me(),{error:i,clearError:$}=xe(),[I,w]=f.useState(!1),[j,m]=f.useState("grid");f.useEffect(()=>{console.log("ProductsPage mounted")},[]),f.useEffect(()=>{console.log("Products updated:",c.length)},[c]),f.useEffect(()=>{console.log("Categories updated:",u.length)},[u]);const r=()=>{if(p){const n=u.find(a=>a.slug===p);return console.log("Finding category by slug:",p,n),n?n.name:""}const l=s.get("category");return console.log("Category param from URL:",l),l||""},[t,d]=f.useState({category:"",priceRange:[0,25e3],rating:0,inStock:!1,brands:[],longevity:[],sillage:[],concentration:[],origins:[],fragranceFamily:[],sortBy:"featured",search:s.get("q")||""});f.useEffect(()=>{console.log("Initial filters set:",t)},[]),f.useEffect(()=>{const l=r();d(n=>{if(!p&&!s.get("category")){if(n.category!=="")return console.log("Resetting category filter to show all products"),{...n,category:""}}else if(n.category!==l)return console.log("Updating category filter:",l),{...n,category:l};return n})},[p,s,u,r]),f.useEffect(()=>{console.log("Products loaded:",c.length),console.log("Categories loaded:",u.length),console.log("Current filters:",t)},[c,u,t]);const h=ze(),C=()=>{$(),P(!0)},M=l=>{d(l),y(n=>(l.category&&l.category!==""&&l.category!=="all"?n.set("category",l.category):n.delete("category"),l.search?n.set("q",l.search):n.delete("q"),n))},S=f.useMemo(()=>{let l=[...c];if(console.log("Filtering products:",{totalProducts:c.length,currentFilters:t,categories:u.map(n=>n.name)}),t.search&&t.search.trim()){const n=t.search.toLowerCase();l=l.filter(a=>{var o,x,F,g,E,T,B,D;return a.name.toLowerCase().includes(n)||a.description.toLowerCase().includes(n)||a.category&&a.category.toLowerCase().includes(n)||a.tags&&a.tags.some(k=>k.toLowerCase().includes(n))||a.sellerName&&a.sellerName.toLowerCase().includes(n)||((o=a.specifications)==null?void 0:o.Origin)&&typeof a.specifications.Origin=="string"&&a.specifications.Origin.toLowerCase().includes(n)||((x=a.specifications)==null?void 0:x.Concentration)&&typeof a.specifications.Concentration=="string"&&a.specifications.Concentration.toLowerCase().includes(n)||((F=a.specifications)==null?void 0:F.Longevity)&&typeof a.specifications.Longevity=="string"&&a.specifications.Longevity.toLowerCase().includes(n)||((g=a.specifications)==null?void 0:g.Sillage)&&typeof a.specifications.Sillage=="string"&&a.specifications.Sillage.toLowerCase().includes(n)||n.includes("floral")&&((E=a.tags)==null?void 0:E.some(k=>["rose","jasmine","mogra","floral"].includes(k.toLowerCase())))||n.includes("woody")&&((T=a.tags)==null?void 0:T.some(k=>["oudh","sandalwood","woody"].includes(k.toLowerCase())))||n.includes("oriental")&&((B=a.tags)==null?void 0:B.some(k=>["amber","saffron","oriental"].includes(k.toLowerCase())))||n.includes("musky")&&((D=a.tags)==null?void 0:D.some(k=>["musk","white"].includes(k.toLowerCase())))})}switch(t.category&&t.category!==""&&t.category.toLowerCase()!=="all"&&(console.log("Applying category filter:",t.category),l=l.filter(n=>{var x;if(!n.category)return console.log("Product without category:",n.id,n.name),!1;if(n.category===t.category)return console.log("Exact category match:",n.name,n.category),!0;if(((x=n.category)==null?void 0:x.toLowerCase())===t.category.toLowerCase())return console.log("Case-insensitive category match:",n.name,n.category),!0;if(n.categoryId===t.category)return console.log("Category ID match:",n.name,n.categoryId),!0;const a=u.find(F=>F.name&&F.name.toLowerCase()===t.category.toLowerCase()),o=a&&n.categoryId===a.id;return o&&console.log("Category by name match:",n.name,a.name),o})),l=l.filter(n=>n.price>=t.priceRange[0]&&n.price<=t.priceRange[1]),t.longevity.length>0&&(l=l.filter(n=>{var o;const a=(o=n.specifications)==null?void 0:o.Longevity;return typeof a!="string"?!1:t.longevity.some(x=>{switch(x){case"very-long":return a.includes("12+")||a.includes("14+")||a.includes("16+");case"long":return a.includes("8+")||a.includes("10+");case"moderate":return a.includes("4+")||a.includes("6+")||a.includes("7+");case"light":return a.includes("2+")||a.includes("3+");default:return!1}})})),t.sillage.length>0&&(l=l.filter(n=>{var o;const a=(o=n.specifications)==null?void 0:o.Sillage;return typeof a!="string"?!1:t.sillage.some(x=>{switch(x){case"very-strong":return a.includes("Very Strong");case"strong":return a.includes("Strong")&&!a.includes("Very Strong");case"moderate":return a.includes("Moderate");case"intimate":return!a.includes("Strong")&&!a.includes("Moderate");default:return!1}})})),t.concentration.length>0&&(l=l.filter(n=>{var o;const a=(o=n.specifications)==null?void 0:o.Concentration;return typeof a!="string"?!1:t.concentration.some(x=>{switch(x){case"pure-oil":return a.includes("Pure Oil")||a.includes("Pure");case"concentrated":return a.includes("Concentrated");case"blend":return a.includes("Blend");case"diluted":return!a.includes("Pure")&&!a.includes("Concentrated")&&!a.includes("Blend");default:return!1}})})),t.origins.length>0&&(l=l.filter(n=>{var o;const a=(o=n.specifications)==null?void 0:o.Origin;return typeof a!="string"?!1:t.origins.some(x=>{switch(x){case"kannauj":return a.toLowerCase().includes("kannauj");case"mysore":return a.toLowerCase().includes("mysore");case"kashmir":return a.toLowerCase().includes("kashmir");case"assam":return a.toLowerCase().includes("assam");case"bulgarian":return a.toLowerCase().includes("bulgaria");case"cambodian":return a.toLowerCase().includes("cambodia");case"arabian":return a.toLowerCase().includes("arab");default:return!1}})})),t.fragranceFamily.length>0&&(l=l.filter(n=>{const a=n.tags||[],o=n.name.toLowerCase(),x=n.description.toLowerCase();return t.fragranceFamily.some(F=>{switch(F){case"floral":return a.some(g=>["rose","jasmine","mogra","floral"].includes(g.toLowerCase()))||o.includes("rose")||o.includes("jasmine");case"woody":return a.some(g=>["oudh","sandalwood","woody"].includes(g.toLowerCase()))||o.includes("oudh")||o.includes("sandalwood");case"oriental":return a.some(g=>["amber","saffron","oriental"].includes(g.toLowerCase()))||o.includes("amber")||o.includes("saffron");case"spicy":return a.some(g=>["saffron","spicy"].includes(g.toLowerCase()))||x.includes("spicy");case"fresh":return a.some(g=>["fresh","clean"].includes(g.toLowerCase()))||x.includes("fresh");case"musky":return a.some(g=>["musk","white"].includes(g.toLowerCase()))||o.includes("musk");case"citrus":return a.some(g=>["citrus","lemon"].includes(g.toLowerCase()))||x.includes("citrus");case"herbal":return a.some(g=>["herbal","herb"].includes(g.toLowerCase()))||x.includes("herbal");default:return!1}})})),t.sortBy){case"price-low":return l.sort((n,a)=>n.price-a.price);case"price-high":return l.sort((n,a)=>a.price-n.price);case"rating":return l.sort((n,a)=>a.rating-n.rating);case"newest":return l.sort((n,a)=>new Date(a.createdAt||0).getTime()-new Date(n.createdAt||0).getTime());case"name":return l.sort((n,a)=>n.name.localeCompare(a.name));default:return l.sort((n,a)=>(a.featured?1:0)-(n.featured?1:0))}},[c,t,u]),O=[t.category&&t.category!==""&&t.category.toLowerCase()!=="all"?1:0,t.priceRange[0]>0||t.priceRange[1]<25e3?1:0,t.longevity.length,t.sillage.length,t.concentration.length,t.origins.length,t.fragranceFamily.length,t.search?1:0].reduce((l,n)=>l+n,0),A=()=>{d({category:"",priceRange:[0,25e3],longevity:[],sillage:[],concentration:[],origins:[],fragranceFamily:[],sortBy:"featured",search:"",rating:0,inStock:!1,brands:[]}),y({})};return e.jsxs("div",{className:"min-h-screen bg-background-primary",children:[e.jsx(Le,{isOnline:h,onRetry:C}),e.jsx("div",{className:"bg-white shadow-sm border-b border-neutral-100",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-100 to-blue-100 rounded-xl",children:e.jsx(G,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.category&&t.category!==""?`${t.category} Collection`:"All Products"}),e.jsx("p",{className:"text-gray-600 mt-1",children:t.category&&t.category!==""?`Discover premium ${t.category.toLowerCase()} attars`:`Explore our complete collection of ${S.length} premium attars`})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[O>0&&e.jsxs("button",{onClick:A,className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Clear Filters (",O,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>m("grid"),className:`p-2 rounded-lg transition-colors ${j==="grid"?"bg-purple-100 text-purple-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(G,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>m("list"),className:`p-2 rounded-lg transition-colors ${j==="list"?"bg-purple-100 text-purple-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(Re,{className:"h-5 w-5"})})]})]})]})})}),i&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ge,{className:"h-5 w-5 text-red-600 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Products"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:i})]}),e.jsxs("button",{onClick:C,className:"ml-4 inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm leading-4 font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),"Retry"]})]})})}),e.jsxs("div",{className:"container-luxury-wide py-6 lg:py-8",children:[e.jsxs("div",{className:"flex gap-4 lg:gap-6 xl:gap-8",children:[e.jsx(R,{children:I&&e.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 lg:hidden",onClick:()=>w(!1)})}),e.jsx(R,{children:I&&e.jsx(L.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed top-0 left-0 w-80 h-full bg-white shadow-luxury z-50 lg:hidden overflow-y-auto",children:e.jsx(U,{filters:t,onFiltersChange:M,categories:u,availableBrands:[],isOpen:I,onToggle:()=>w(!1),productCount:S.length,className:"h-full"})})}),e.jsx("aside",{className:"filter-sidebar hidden lg:block w-64 xl:w-72 2xl:w-80 flex-shrink-0",children:e.jsx("div",{className:"filter-sidebar-sticky sticky top-24 h-[calc(100vh-120px)] overflow-hidden flex flex-col",children:e.jsx(U,{filters:t,onFiltersChange:M,categories:u,availableBrands:[],isOpen:!0,onToggle:()=>{},productCount:S.length,className:"flex-1 flex flex-col h-full"})})}),e.jsx("div",{className:"flex-1 min-w-0",children:i&&!c.length?e.jsx(H,{error:i,onRetry:C}):b?e.jsxs("div",{className:"space-y-8",children:[e.jsx(fe,{text:"Curating products...",subText:"Discovering exceptional pieces for you",stage:h?"loading":"offline",showProgress:!0,progress:c.length>0?50:25}),e.jsx(H,{showSkeleton:!0})]}):e.jsxs(e.Fragment,{children:[v&&e.jsx(pe,{className:"mb-6",stages:[{name:"Product catalog",completed:!0,loading:!1},{name:"Product details",completed:!1,loading:!0,description:"Loading descriptions, reviews, and specifications"},{name:"Category information",completed:!1,loading:!1}]}),e.jsx("div",{className:"block sm:hidden",children:e.jsx(Ie,{products:S,columns:j==="list"?1:2,variant:"default"})}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("div",{className:`
                    ${j==="grid"?"grid-luxury-products":"list-luxury-products"}
                  `,children:S&&S.length>0?S.map((l,n)=>e.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.03,duration:.4,ease:"easeOut"},className:`${j==="list"?"w-full":"h-full"}`,children:j==="list"?e.jsx(Be,{product:l}):e.jsx(ve,{product:l})},`product-${l.id}`)):e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("p",{className:"text-gray-500",children:N?"Loading products...":"No products found matching your criteria."}),N&&e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-500"})})]})})}),!N&&S.length===0&&e.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 lg:py-24",children:[e.jsx("div",{className:"text-neutral-300 text-8xl mb-6",children:"ðŸŒ¸"}),e.jsx("h3",{className:"heading-luxury text-2xl lg:text-3xl font-light text-text-primary mb-4",children:"No attars found"}),e.jsx("p",{className:"text-luxury-muted text-lg max-w-md mx-auto leading-relaxed",children:"We couldn't find any attars matching your criteria. Try exploring different fragrance families or price ranges."}),e.jsx("button",{onClick:A,className:"btn-primary mt-8",children:"Clear All Filters"})]})]})})]}),e.jsx("div",{className:"mt-16 lg:mt-20",children:e.jsx(Ee,{})})]}),e.jsx(Te,{productName:"Premium Wireless Headphones",customerLocation:"New York",timeAgo:"2 minutes ago"})]})};export{is as ProductsPage,is as default};
