var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,i=(e,s)=>{for(var t in s||(s={}))r.call(s,t)&&n(e,t,s[t]);if(a)for(var t of a(s))l.call(s,t)&&n(e,t,s[t]);return e},d=(e,a)=>s(e,t(a)),o=(e,s)=>{var t={};for(var n in e)r.call(e,n)&&s.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&a)for(var n of a(e))s.indexOf(n)<0&&l.call(e,n)&&(t[n]=e[n]);return t},c=(e,s,t)=>new Promise((a,r)=>{var l=e=>{try{i(t.next(e))}catch(s){r(s)}},n=e=>{try{i(t.throw(e))}catch(s){r(s)}},i=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,n);i((t=t.apply(e,s)).next())});import{j as m,W as x,e as u,C as h,b as g,R as p,X as b,u as y,f,g as j,h as N,i as v,k as w,P as k,l as C,m as S,n as _,o as P,r as A,p as E,H as O,B as T,U as D,q as F,s as M,D as L,t as U,v as I,d as $,T as z,w as R,x as q,y as B,z as G,F as Y,G as W,J as V,K as H,N as Q,O as J,A as K,Q as Z,V as X,c as ee,Y as se,Z as te,E as ae,_ as re,$ as le,a0 as ne,a1 as ie,a2 as de,a3 as oe,a4 as ce,M as me,a5 as xe}from"./vendor-react-CHCJ4hqp.js";import{u as ue,a as he,b as ge}from"./app-core-DUzoQ1HM.js";import{m as pe,A as be}from"./vendor-animations-D7k8NUOg.js";const ye=({size:e="medium",text:s,subText:t,overlay:a=!1,className:r="",stage:l="loading",progress:n=0,showProgress:i=!1,onRetry:d})=>{const o={small:"h-4 w-4",medium:"h-10 w-10",large:"h-12 w-12"},c=m.jsx("div",{className:`flex flex-col items-center justify-center py-8 ${r}`,children:m.jsxs("div",{className:"flex flex-col items-center",children:[(()=>{switch(l){case"success":return m.jsx(g,{className:`${o[e]} text-green-500`});case"error":return m.jsx(h,{className:`${o[e]} text-red-500`});case"offline":return m.jsx(x,{className:`${o[e]} text-gray-500`});default:return m.jsx(u,{className:`${o[e]} text-primary`})}})(),i&&"loading"===l&&m.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-full mt-4 overflow-hidden",children:m.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-300",style:{width:`${n}%`}})}),s&&m.jsx("p",{className:`mt-4 text-sm font-medium ${(()=>{switch(l){case"success":return"text-green-600";case"error":return"text-red-600";default:return"text-gray-600"}})()}`,children:s}),t&&m.jsx("p",{className:"mt-2 text-xs text-gray-500 text-center max-w-xs",children:t}),"error"===l&&d&&m.jsx("button",{onClick:d,className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm font-medium",children:"Try Again"}),"offline"===l&&m.jsxs("div",{className:"mt-4 flex items-center text-xs text-gray-500",children:[m.jsx(x,{className:"h-3 w-3 mr-1"}),m.jsx("span",{children:"Check your internet connection"})]})]})});return a?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsx("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:c})}):c},fe=({isOpen:e,onClose:s,title:t,children:a,size:r="md"})=>(p.useEffect(()=>{const t=t=>{"Escape"===t.key&&e&&s()};return e&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[e,s]),m.jsx(m.Fragment,{children:e&&m.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:m.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60",onClick:s,"aria-hidden":"true"}),m.jsxs("div",{className:`relative bg-white rounded-2xl shadow-2xl w-full mx-4 border border-neutral-200 ${{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl",full:"max-w-7xl"}[r]}`,children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[m.jsx("h2",{id:"modal-title",className:"text-xl font-semibold text-neutral-900 font-luxury",children:t}),m.jsx("button",{onClick:s,className:"p-2 hover:bg-neutral-100 rounded-lg transition-colors duration-200","aria-label":"Close modal",children:m.jsx(b,{className:"h-5 w-5 text-neutral-600"})})]}),m.jsx("div",{className:"p-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:a})]})]})})})),je=({isOpen:e,onClose:s,onConfirm:t,title:a,message:r,confirmText:l="Confirm",cancelText:n="Cancel",variant:i="danger",loading:d=!1})=>e?m.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),m.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:m.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-lg shadow-xl transform transition-all",onClick:e=>e.stopPropagation(),children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a})}),m.jsx("div",{className:"px-6 py-4",children:m.jsx("p",{className:"text-gray-600",children:r})}),m.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end space-x-3",children:[m.jsx("button",{onClick:s,disabled:d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n}),m.jsx("button",{onClick:t,disabled:d,className:`px-4 py-2 text-sm font-medium text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${{danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500",info:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}[i]}`,children:d?m.jsxs("span",{className:"flex items-center",children:[m.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):l})]})]})})]}):null,Ne=[{name:"Dashboard",path:"/admin",icon:m.jsx(w,{className:"h-5 w-5"})},{name:"Products",path:"/admin/products",icon:m.jsx(k,{className:"h-5 w-5"})},{name:"Categories",path:"/admin/categories",icon:m.jsx(C,{className:"h-5 w-5"})},{name:"Orders",path:"/admin/orders",icon:m.jsx(S,{className:"h-5 w-5"})},{name:"Users",path:"/admin/users",icon:m.jsx(_,{className:"h-5 w-5"})},{name:"Analytics",path:"/admin/analytics",icon:m.jsx(P,{className:"h-5 w-5"})}],ve=({isOpen:e,isMobileOpen:s,onToggle:t,onMobileToggle:a})=>{const r=y(),l=e=>"/admin"===e?"/admin"===r.pathname||"/dashboard"===r.pathname:r.pathname.startsWith(e);return m.jsxs(m.Fragment,{children:[m.jsxs("aside",{className:"fixed top-0 left-0 z-40 h-screen transition-all duration-300 bg-white border-r border-gray-200 hidden lg:block "+(e?"w-64":"w-20"),children:[m.jsx("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:e?m.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg flex items-center justify-center",children:m.jsx(j,{className:"h-5 w-5 text-white"})}),m.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Admin"})]}):m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg flex items-center justify-center mx-auto",children:m.jsx(j,{className:"h-5 w-5 text-white"})})}),m.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:Ne.map(s=>m.jsxs(f,{to:s.path,className:"flex items-center px-3 py-3 rounded-lg transition-all duration-200 group "+(l(s.path)?"bg-gradient-to-r from-amber-50 to-orange-50 text-amber-700 font-medium":"text-gray-700 hover:bg-gray-50"),title:e?void 0:s.name,children:[m.jsx("span",{className:""+(l(s.path)?"text-amber-600":"text-gray-500 group-hover:text-gray-700"),children:s.icon}),e&&m.jsx("span",{className:"ml-3 text-sm font-medium",children:s.name})]},s.path))}),m.jsx("div",{className:"absolute bottom-4 right-0 transform translate-x-1/2",children:m.jsx("button",{onClick:t,className:"w-8 h-8 bg-white border border-gray-200 rounded-full shadow-md flex items-center justify-center hover:bg-gray-50 transition-colors",children:e?m.jsx(N,{className:"h-4 w-4 text-gray-600"}):m.jsx(v,{className:"h-4 w-4 text-gray-600"})})})]}),m.jsxs("aside",{className:"fixed top-0 left-0 z-40 h-screen w-64 transition-transform duration-300 bg-white border-r border-gray-200 lg:hidden "+(s?"translate-x-0":"-translate-x-full"),children:[m.jsx("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:m.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg flex items-center justify-center",children:m.jsx(j,{className:"h-5 w-5 text-white"})}),m.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:"Admin"})]})}),m.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:Ne.map(e=>m.jsxs(f,{to:e.path,onClick:a,className:"flex items-center px-3 py-3 rounded-lg transition-all duration-200 "+(l(e.path)?"bg-gradient-to-r from-amber-50 to-orange-50 text-amber-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[m.jsx("span",{className:""+(l(e.path)?"text-amber-600":"text-gray-500"),children:e.icon}),m.jsx("span",{className:"ml-3 text-sm font-medium",children:e.name})]},e.path))})]})]})},we=({onMenuClick:e,sidebarOpen:s})=>{var t;const{user:a,logout:r}=ue(),[l,n]=A.useState(!1),i=A.useRef(null);A.useEffect(()=>{const e=e=>{i.current&&!i.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return m.jsx("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm",children:m.jsxs("div",{className:"flex items-center justify-between h-16 px-4 md:px-6",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:m.jsx(E,{className:"h-6 w-6 text-gray-600"})}),m.jsx("div",{children:m.jsx("h1",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Admin Dashboard"})})]}),m.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[m.jsx(f,{to:"/",className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Go to Home",children:m.jsx(O,{className:"h-5 w-5 text-gray-600"})}),m.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Notifications",children:[m.jsx(T,{className:"h-5 w-5 text-gray-600"}),m.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),m.jsxs("div",{className:"relative",ref:i,children:[m.jsxs("button",{onClick:()=>n(!l),className:"flex items-center space-x-2 md:space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-500 to-orange-600 rounded-full flex items-center justify-center",children:m.jsx(D,{className:"h-4 w-4 text-white"})}),m.jsxs("div",{className:"hidden md:block text-left",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:(null==a?void 0:a.fullName)||(null==a?void 0:a.name)||(null==(t=null==a?void 0:a.email)?void 0:t.split("@")[0])||"Admin"}),m.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(null==a?void 0:a.role)||"admin"})]})]}),l&&m.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[m.jsxs(f,{to:"/admin/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>n(!1),children:[m.jsx(F,{className:"h-4 w-4 mr-3 text-gray-500"}),"Settings"]}),m.jsxs("button",{onClick:()=>c(null,null,function*(){try{yield r(),window.location.href="/"}catch(e){}}),className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[m.jsx(M,{className:"h-4 w-4 mr-3"}),"Logout"]})]})]})]})]})})},ke=({children:e})=>{const[s,t]=A.useState(!0),[a,r]=A.useState(!1);return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(ve,{isOpen:s,isMobileOpen:a,onToggle:()=>t(!s),onMobileToggle:()=>r(!a)}),m.jsxs("div",{className:"transition-all duration-300 "+(s?"lg:ml-64":"lg:ml-20"),children:[m.jsx(we,{onMenuClick:()=>r(!a),sidebarOpen:s}),m.jsx("main",{className:"p-4 md:p-6 lg:p-8",children:e})]}),a&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>r(!1)})]})},Ce=()=>{const[e,s]=A.useState(!0),[t,a]=A.useState(null),[r,l]=A.useState([]),[n,i]=A.useState([]),[d,o]=A.useState([]),{showError:x}=he();A.useEffect(()=>{u()},[]);const u=()=>c(null,null,function*(){try{s(!0);const e=yield ge.get("/admin/analytics/dashboard");e.success&&(a(e.data.metrics),l(e.data.topProducts||[]),i(e.data.recentOrders||[]),o(e.data.lowStockProductsList||[]))}catch(e){x(e.message||"Failed to load dashboard data")}finally{s(!1)}}),h=t?[{title:"Total Revenue",value:`₹${Number(t.totalRevenue).toLocaleString("en-IN")}`,change:t.revenueToday>0?`+₹${Number(t.revenueToday).toLocaleString("en-IN")} today`:"No sales today",icon:L,color:"bg-green-500",trend:t.revenueToday>0?"up":"neutral"},{title:"Total Orders",value:t.totalOrders.toString(),change:`${t.ordersToday} orders today`,icon:S,color:"bg-blue-500",trend:t.ordersToday>0?"up":"neutral"},{title:"Total Products",value:t.totalProducts.toString(),change:`${t.lowStockProducts} low stock`,icon:k,color:"bg-purple-500",trend:t.lowStockProducts>0?"down":"neutral"},{title:"Total Users",value:t.totalUsers.toString(),change:`${t.newUsersToday} new today`,icon:_,color:"bg-amber-500",trend:t.newUsersToday>0?"up":"neutral"}]:[];return e?m.jsx("div",{className:"space-y-6",children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,s)=>m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-4"}),m.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse mb-2"}),m.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-2/3"})]},s))})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's what's happening today."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((e,s)=>m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:e.title}),m.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:e.value}),m.jsxs("div",{className:"flex items-center mt-2 text-sm",children:["up"===e.trend&&m.jsx(U,{className:"h-4 w-4 text-green-500 mr-1"}),"down"===e.trend&&m.jsx(I,{className:"h-4 w-4 text-red-500 mr-1"}),m.jsx("span",{className:"up"===e.trend?"text-green-600":"down"===e.trend?"text-red-600":"text-gray-500",children:e.change})]})]}),m.jsx("div",{className:`${e.color} p-3 rounded-lg`,children:m.jsx(e.icon,{className:"h-6 w-6 text-white"})})]})},s))}),t&&(t.pendingOrders>0||t.lowStockProducts>0)&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.pendingOrders>0&&m.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start",children:[m.jsx($,{className:"h-5 w-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-yellow-900",children:"Pending Orders"}),m.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["You have ",t.pendingOrders," orders waiting to be processed."]})]})]}),t.lowStockProducts>0&&m.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[m.jsx(z,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-red-900",children:"Low Stock Alert"}),m.jsxs("p",{className:"text-sm text-red-700 mt-1",children:[t.lowStockProducts," products are running low on stock."]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Selling Products"})}),m.jsx("div",{className:"p-6",children:r.length>0?m.jsx("div",{className:"space-y-4",children:r.map(e=>m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("img",{src:e.images&&e.images[0]||"/placeholder.png",alt:e.name,className:"w-12 h-12 rounded-lg object-cover"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),m.jsxs("p",{className:"text-sm text-gray-500",children:["₹",Number(e.price).toLocaleString("en-IN")]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[e.total_sold," sold"]}),m.jsxs("p",{className:"text-xs text-gray-500",children:[e.stock," in stock"]})]})]},e.id))}):m.jsx("p",{className:"text-center text-gray-500 py-8",children:"No sales data available"})})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),m.jsx("div",{className:"p-6",children:n.length>0?m.jsx("div",{className:"space-y-4",children:n.slice(0,5).map(e=>{return m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.order_number}),m.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.customer_name||e.customer_email})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["₹",Number(e.total_amount).toLocaleString("en-IN")]}),m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s=e.status,{pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[s]||"bg-gray-100 text-gray-800"}`,children:e.status})]})]},e.id);var s})}):m.jsx("p",{className:"text-center text-gray-500 py-8",children:"No orders yet"})})]})]}),d.length>0&&m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Low Stock Products"})}),m.jsx("div",{className:"p-6",children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(e=>m.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[m.jsx("img",{src:e.images[0]||"/placeholder.png",alt:e.name,className:"w-12 h-12 rounded-lg object-cover"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),m.jsxs("p",{className:"text-xs text-red-600 font-semibold",children:["Only ",e.stock," left (Min: ",e.min_stock_level,")"]})]})]},e.id))})})]})]})};function Se({data:e,columns:s,loading:t=!1,onRowClick:a,pagination:r,emptyMessage:l="No data available"}){const[n,i]=A.useState(null),[d,o]=A.useState("asc"),c=p.useMemo(()=>n?[...e].sort((e,s)=>{const t=e[n],a=s[n];if(t===a)return 0;const r=t>a?1:-1;return"asc"===d?r:-r}):e,[e,n,d]);return t?m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsx("tr",{children:s.map(e=>m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:e.width},children:e.label},e.key))})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[...Array(5)].map((e,t)=>m.jsx("tr",{children:s.map(e=>m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})},e.key))},t))})]})})}):0===e.length?m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:m.jsx("p",{className:"text-gray-500",children:l})}):m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsx("tr",{children:s.map(e=>{return m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider "+(e.sortable?"cursor-pointer select-none hover:bg-gray-100":""),style:{width:e.width},onClick:()=>{return e.sortable&&(s=e.key,void(n===s?o("asc"===d?"desc":"asc"):(i(s),o("asc"))));var s},children:m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("span",{children:e.label}),e.sortable&&(s=e.key,n!==s?m.jsx(R,{className:"h-4 w-4 text-gray-400"}):"asc"===d?m.jsx(q,{className:"h-4 w-4 text-amber-600"}):m.jsx(B,{className:"h-4 w-4 text-amber-600"}))]})},e.key);var s})})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(e=>m.jsx("tr",{className:""+(a?"cursor-pointer hover:bg-gray-50 transition-colors":""),onClick:()=>null==a?void 0:a(e),children:s.map(s=>m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.render?s.render(e):e[s.key]},s.key))},e.id))})]})}),r&&m.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[m.jsxs("div",{className:"text-sm text-gray-700",children:["Showing"," ",m.jsx("span",{className:"font-medium",children:(r.currentPage-1)*r.pageSize+1})," ","to"," ",m.jsx("span",{className:"font-medium",children:Math.min(r.currentPage*r.pageSize,r.totalItems)})," ","of ",m.jsx("span",{className:"font-medium",children:r.totalItems})," results"]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:()=>r.onPageChange(r.currentPage-1),disabled:1===r.currentPage,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m.jsx(N,{className:"h-4 w-4"})}),m.jsx("div",{className:"flex items-center space-x-1",children:[...Array(r.totalPages)].map((e,s)=>{const t=s+1;return 1===t||t===r.totalPages||t>=r.currentPage-1&&t<=r.currentPage+1?m.jsx("button",{onClick:()=>r.onPageChange(t),className:"px-3 py-1 rounded-lg text-sm font-medium transition-colors "+(t===r.currentPage?"bg-amber-600 text-white":"text-gray-700 hover:bg-gray-100"),children:t},t):t===r.currentPage-2||t===r.currentPage+2?m.jsx("span",{className:"px-2 text-gray-400",children:"..."},t):null})}),m.jsx("button",{onClick:()=>r.onPageChange(r.currentPage+1),disabled:r.currentPage===r.totalPages,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m.jsx(v,{className:"h-4 w-4"})})]})]})]})}const _e=e=>{var s=e,{label:t,error:a,helperText:r,required:l,className:n=""}=s,c=o(s,["label","error","helperText","required","className"]);return m.jsxs("div",{className:"w-full",children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t,l&&m.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),m.jsx("input",d(i({},c),{className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors ${a?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"} ${n}`})),a&&m.jsxs("div",{className:"flex items-center mt-1 text-sm text-red-600",children:[m.jsx(h,{className:"h-4 w-4 mr-1"}),a]}),r&&!a&&m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})},Pe=e=>{var s=e,{label:t,error:a,helperText:r,required:l,className:n=""}=s,c=o(s,["label","error","helperText","required","className"]);return m.jsxs("div",{className:"w-full",children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t,l&&m.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),m.jsx("textarea",d(i({},c),{className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors resize-none ${a?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"} ${n}`})),a&&m.jsxs("div",{className:"flex items-center mt-1 text-sm text-red-600",children:[m.jsx(h,{className:"h-4 w-4 mr-1"}),a]}),r&&!a&&m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})},Ae=e=>{var s=e,{label:t,error:a,helperText:r,required:l,options:n,className:c=""}=s,x=o(s,["label","error","helperText","required","options","className"]);return m.jsxs("div",{className:"w-full",children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[t,l&&m.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),m.jsx("select",d(i({},x),{className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-colors ${a?"border-red-300 bg-red-50":"border-gray-300 hover:border-gray-400"} ${c}`,children:n.map(e=>m.jsx("option",{value:e.value,children:e.label},e.value))})),a&&m.jsxs("div",{className:"flex items-center mt-1 text-sm text-red-600",children:[m.jsx(h,{className:"h-4 w-4 mr-1"}),a]}),r&&!a&&m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})},Ee=e=>{var s=e,{label:t,error:a,helperText:r,className:l=""}=s,n=o(s,["label","error","helperText","className"]);return m.jsxs("div",{className:"w-full",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",d(i({type:"checkbox"},n),{className:`h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded ${l}`})),m.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:t})]}),a&&m.jsxs("div",{className:"flex items-center mt-1 text-sm text-red-600",children:[m.jsx(h,{className:"h-4 w-4 mr-1"}),a]}),r&&!a&&m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]})},Oe=({value:e,onChange:s,multiple:t=!1,maxFiles:a=5,label:r="Upload Images",helperText:l="Click to upload or drag and drop",accept:n="image/*"})=>{const[i,d]=A.useState(!1),[o,x]=A.useState(!1),h=A.useRef(null),{showSuccess:g,showError:p}=he(),y=Array.isArray(e)?e:e?[e]:[],f=e=>c(null,null,function*(){if(!e||0===e.length)return;const r=Array.from(e);if(t&&y.length+r.length>a)return void p("Upload Error",`Maximum ${a} images allowed`);if(r.filter(e=>!e.type.startsWith("image/")).length>0)return void p("Upload Error","Only image files are allowed");if(r.filter(e=>e.size>5242880).length>0)p("Upload Error","Each image must be less than 5MB");else{d(!0);try{const e=[];for(const s of r){const t=new FileReader,a=new Promise((e,a)=>{t.onload=()=>e(t.result),t.onerror=a,t.readAsDataURL(s)}),r=yield a;e.push(r)}s(t?[...y,...e]:e[0]||""),g("Upload Success","Images uploaded successfully")}catch(l){p("Upload Error","Failed to upload images")}finally{d(!1)}}}),j=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?x(!0):"dragleave"===e.type&&x(!1)},N=()=>c(null,null,function*(){if(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))try{const e=document.createElement("input");e.type="file",e.accept="image/*",e.capture="environment",e.multiple=t,e.onchange=e=>{const s=e.target;f(s.files)},e.click()}catch(e){h.current&&(h.current.accept="image/*",h.current.click())}else h.current&&(h.current.accept="image/*",h.current.click())});return m.jsxs("div",{className:"space-y-4",children:[r&&m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r}),m.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 transition-colors ${o?"border-amber-500 bg-amber-50":"border-gray-300 hover:border-gray-400"} ${i?"opacity-50 pointer-events-none":""}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:e=>{e.preventDefault(),e.stopPropagation(),x(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&f(e.dataTransfer.files)},children:[m.jsx("input",{ref:h,type:"file",accept:n,multiple:t,onChange:e=>f(e.target.files),className:"hidden"}),m.jsx("div",{className:"flex flex-col items-center justify-center",children:i?m.jsxs(m.Fragment,{children:[m.jsx(u,{className:"h-12 w-12 text-amber-500 animate-spin mb-3"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full justify-center",children:[m.jsxs("button",{type:"button",className:"flex flex-col items-center justify-center cursor-pointer text-gray-700 hover:text-amber-600",onClick:()=>{var e;return null==(e=h.current)?void 0:e.click()},children:[m.jsx("div",{className:"p-3 bg-gray-100 rounded-full mb-2",children:m.jsx(G,{className:"h-6 w-6"})}),m.jsx("span",{className:"text-sm font-medium",children:"Upload Image"})]}),m.jsxs("button",{type:"button",className:"flex flex-col items-center justify-center cursor-pointer text-gray-700 hover:text-amber-600",onClick:N,children:[m.jsx("div",{className:"p-3 bg-gray-100 rounded-full mb-2",children:m.jsx(Y,{className:"h-6 w-6"})}),m.jsx("span",{className:"text-sm font-medium",children:"Take Photo"})]})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:l}),m.jsx("p",{className:"text-xs text-gray-400 mt-1 text-center",children:t?`PNG, JPG, GIF up to 5MB (max ${a} files)`:"PNG, JPG, GIF up to 5MB"})]})})]}),y.length>0&&m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[y.map((e,a)=>m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 border border-gray-200",children:m.jsx("img",{src:e,alt:`Upload ${a+1}`,className:"w-full h-full object-cover",onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23f3f4f6" width="100" height="100"/%3E%3Ctext x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" fill="%239ca3af" font-size="14"%3ENo Image%3C/text%3E%3C/svg%3E'}})}),m.jsx("button",{type:"button",onClick:()=>(e=>{if(t){const t=y.filter((s,t)=>t!==e);s(t)}else s("")})(a),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:m.jsx(b,{className:"h-4 w-4"})})]},a)),t&&y.length<a&&m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("button",{type:"button",onClick:()=>{var e;return null==(e=h.current)?void 0:e.click()},className:"aspect-square rounded-lg border-2 border-dashed border-gray-300 hover:border-amber-500 hover:bg-amber-50 transition-colors flex flex-col items-center justify-center text-gray-400 hover:text-amber-500",children:[m.jsx(G,{className:"h-6 w-6 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Upload"})]}),m.jsxs("button",{type:"button",onClick:N,className:"aspect-square rounded-lg border-2 border-dashed border-gray-300 hover:border-amber-500 hover:bg-amber-50 transition-colors flex flex-col items-center justify-center text-gray-400 hover:text-amber-500",children:[m.jsx(Y,{className:"h-6 w-6 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Camera"})]})]})]}),l&&0===y.length&&m.jsx("p",{className:"text-xs text-gray-500",children:l})]})},Te=({product:e,onClose:s,onSuccess:t,endpointPrefix:a="/admin"})=>{const[r,l]=A.useState({name:"",slug:"",description:"",short_description:"",price:"",original_price:"",category_id:"",stock:"0",min_stock_level:"5",sku:"",is_featured:!1,is_active:!0,images:[]}),[n,o]=A.useState({}),[x,u]=A.useState(!1),[h,g]=A.useState([]),{showSuccess:p,showError:b}=he();A.useEffect(()=>{var s,t;y(),e&&l({name:e.name||"",slug:e.slug||"",description:e.description||"",short_description:e.short_description||"",price:e.price||"",original_price:e.original_price||"",category_id:e.category_id||"",stock:(null==(s=e.stock)?void 0:s.toString())||"0",min_stock_level:(null==(t=e.min_stock_level)?void 0:t.toString())||"5",sku:e.sku||"",is_featured:e.is_featured||!1,is_active:void 0===e.is_active||e.is_active,images:e.images||[]})},[e]);const y=()=>c(null,null,function*(){try{const e=yield ge.get("/categories");e.success&&g(e.data)}catch(e){}}),f=s=>{const{name:t,value:a,type:r}=s.target;if("checkbox"===r){const e=s.target.checked;l(s=>d(i({},s),{[t]:e}))}else l(e=>d(i({},e),{[t]:a}));if(n[t]&&o(e=>d(i({},e),{[t]:""})),"name"===t&&!e){const e=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");l(s=>d(i({},s),{slug:e}))}};return m.jsx(fe,{isOpen:!0,onClose:s,title:e?"Edit Product":"Add New Product",size:"2xl",children:m.jsxs("form",{onSubmit:s=>c(null,null,function*(){if(s.preventDefault(),(()=>{const e={};return r.name.trim()||(e.name="Product name is required"),(!r.price||parseFloat(r.price)<=0)&&(e.price="Valid price is required"),r.category_id||(e.category_id="Category is required"),r.stock&&parseInt(r.stock)<0&&(e.stock="Stock cannot be negative"),r.original_price&&parseFloat(r.original_price)<parseFloat(r.price)&&(e.original_price="Original price must be greater than sale price"),o(e),0===Object.keys(e).length})())try{u(!0);const s=d(i({},r),{price:parseFloat(r.price),original_price:r.original_price?parseFloat(r.original_price):null,stock:parseInt(r.stock),min_stock_level:parseInt(r.min_stock_level),images:r.images});e?(yield ge.put(`${a}/products/${e.id}`,s),p("Success","Product updated successfully")):(yield ge.post(`${a}/products`,s),p("Success","Product created successfully")),t()}catch(l){b("Error",l.message||"Failed to save product")}finally{u(!1)}}),className:"space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),m.jsx(_e,{label:"Product Name",name:"name",value:r.name,onChange:f,error:n.name||"",required:!0,placeholder:"Enter product name"}),m.jsx(_e,{label:"Slug",name:"slug",value:r.slug,onChange:f,error:n.slug||"",helperText:"URL-friendly version of the name",placeholder:"product-slug"}),m.jsx(Pe,{label:"Short Description",name:"short_description",value:r.short_description,onChange:f,rows:2,placeholder:"Brief product description"}),m.jsx(Pe,{label:"Full Description",name:"description",value:r.description,onChange:f,rows:4,placeholder:"Detailed product description"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pricing & Inventory"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx(_e,{label:"Price",name:"price",type:"number",step:"0.01",value:r.price,onChange:f,error:n.price||"",required:!0,placeholder:"0.00"}),m.jsx(_e,{label:"Original Price",name:"original_price",type:"number",step:"0.01",value:r.original_price,onChange:f,error:n.original_price||"",placeholder:"0.00",helperText:"Leave empty if no discount"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx(_e,{label:"Stock Quantity",name:"stock",type:"number",value:r.stock,onChange:f,error:n.stock||"",required:!0,placeholder:"0"}),m.jsx(_e,{label:"Min Stock Level",name:"min_stock_level",type:"number",value:r.min_stock_level,onChange:f,error:"",placeholder:"5",helperText:"Low stock alert threshold"}),m.jsx(_e,{label:"SKU",name:"sku",value:r.sku,onChange:f,error:"",placeholder:"PROD-001",helperText:"Stock Keeping Unit"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Images"}),m.jsx(Oe,{value:r.images,onChange:e=>l(s=>d(i({},s),{images:Array.isArray(e)?e:[e]})),multiple:!0,maxFiles:5,label:"Upload Product Images",helperText:"Upload up to 5 product images. First image will be the main image."})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Category & Settings"}),m.jsx(Ae,{label:"Category",name:"category_id",value:r.category_id,onChange:f,error:n.category_id||"",required:!0,options:[{value:"",label:"Select a category"},...h.map(e=>({value:e.id,label:e.name}))]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Ee,{label:"Featured Product",name:"is_featured",checked:r.is_featured,onChange:f}),m.jsx(Ee,{label:"Active",name:"is_active",checked:r.is_active,onChange:f})]})]}),m.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[m.jsx("button",{type:"button",onClick:s,disabled:x,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),m.jsxs("button",{type:"submit",disabled:x,className:"px-4 py-2 text-sm font-medium text-white bg-amber-600 rounded-lg hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[x&&m.jsx(W,{className:"h-4 w-4 animate-spin"}),m.jsx("span",{children:e?"Update Product":"Create Product"})]})]})]})})},De=()=>{const[e,s]=A.useState([]),[t,a]=A.useState(!0),[r,l]=A.useState(""),[n,d]=A.useState(""),[o,x]=A.useState(""),[u,h]=A.useState(1),[g,p]=A.useState(1),[b,y]=A.useState(0),[f,j]=A.useState(!1),[N,v]=A.useState(!1),[w,k]=A.useState(null),[C,S]=A.useState(!1),{showSuccess:_,showError:P}=he();A.useEffect(()=>{E()},[u,r,n,o]);const E=()=>c(null,null,function*(){try{a(!0);const e=new URLSearchParams(i(i(i({page:u.toString(),limit:10..toString()},r&&{search:r}),n&&{category:n}),o&&{status:o})),t=yield ge.get(`/admin/products?${e}`);t.success&&(s(t.data),p(t.pagination.totalPages),y(t.pagination.total))}catch(e){P(e.message||"Failed to load products")}finally{a(!1)}}),O=[{key:"images",label:"Image",width:"80px",render:e=>m.jsx("img",{src:e.images[0]||"/placeholder.png",alt:e.name,className:"w-12 h-12 rounded-lg object-cover"})},{key:"name",label:"Name",sortable:!0,render:e=>m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:e.name}),m.jsx("p",{className:"text-xs text-gray-500",children:e.category_name})]})},{key:"price",label:"Price",sortable:!0,render:e=>m.jsxs("div",{children:[m.jsxs("p",{className:"font-semibold text-gray-900",children:["₹",Number(e.price).toLocaleString("en-IN")]}),e.original_price&&m.jsxs("p",{className:"text-xs text-gray-500 line-through",children:["₹",Number(e.original_price).toLocaleString("en-IN")]})]})},{key:"stock",label:"Stock",sortable:!0,render:e=>m.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(0===e.stock?"bg-red-100 text-red-800":e.stock<10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.stock})},{key:"is_active",label:"Status",render:e=>m.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})},{key:"actions",label:"Actions",width:"120px",render:e=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:()=>(e=>{k(e),j(!0)})(e),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:m.jsx(Q,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>{k(e),v(!0)},className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:m.jsx(J,{className:"h-4 w-4"})})]})}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your product catalog"})]}),m.jsxs("button",{onClick:()=>{k(null),j(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[m.jsx(V,{className:"h-5 w-5"}),m.jsx("span",{children:"Add Product"})]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search products...",value:r,onChange:e=>{l(e.target.value),h(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),m.jsxs("select",{value:o,onChange:e=>{x(e.target.value),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[m.jsx("option",{value:"",children:"All Status"}),m.jsx("option",{value:"active",children:"Active"}),m.jsx("option",{value:"inactive",children:"Inactive"})]}),m.jsx("button",{onClick:()=>{l(""),d(""),x(""),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Filters"})]})}),m.jsx(Se,{data:e,columns:O,loading:t,pagination:{currentPage:u,totalPages:g,pageSize:10,totalItems:b,onPageChange:h},emptyMessage:"No products found"}),f&&m.jsx(Te,{product:w,onClose:()=>{j(!1),k(null)},onSuccess:()=>{j(!1),k(null),E()}}),m.jsx(je,{isOpen:N,onClose:()=>{v(!1),k(null)},onConfirm:()=>c(null,null,function*(){if(w)try{S(!0),yield ge.delete(`/admin/products/${w.id}`),_("Product deleted successfully"),v(!1),k(null),E()}catch(e){P(e.message||"Failed to delete product")}finally{S(!1)}}),title:"Delete Product",message:`Are you sure you want to delete "${null==w?void 0:w.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger",loading:C})]})},Fe=({category:e,onClose:s,onSuccess:t})=>{const[a,r]=A.useState({name:"",slug:"",description:"",image_url:"",parent_id:"",sort_order:"0",is_active:!0}),[l,n]=A.useState({}),[o,x]=A.useState(!1),[u,h]=A.useState([]),{showSuccess:g,showError:p}=he();A.useEffect(()=>{var s;b(),e&&r({name:e.name||"",slug:e.slug||"",description:e.description||"",image_url:e.image_url||"",parent_id:e.parent_id||"",sort_order:(null==(s=e.sort_order)?void 0:s.toString())||"0",is_active:void 0===e.is_active||e.is_active})},[e]);const b=()=>c(null,null,function*(){try{const s=yield ge.get("/categories");if(s.success){const t=e?s.data.filter(s=>s.id!==e.id):s.data;h(t)}}catch(s){}}),y=s=>{const{name:t,value:a,type:o}=s.target;if("checkbox"===o){const e=s.target.checked;r(s=>d(i({},s),{[t]:e}))}else r(e=>d(i({},e),{[t]:a}));if(l[t]&&n(e=>d(i({},e),{[t]:""})),"name"===t&&!e){const e=a.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");r(s=>d(i({},s),{slug:e}))}};return m.jsx(fe,{isOpen:!0,onClose:s,title:e?"Edit Category":"Add New Category",size:"2xl",children:m.jsxs("form",{onSubmit:s=>c(null,null,function*(){if(s.preventDefault(),(()=>{const e={};return a.name.trim()||(e.name="Category name is required"),a.slug.trim()||(e.slug="Slug is required"),a.sort_order&&parseInt(a.sort_order)<0&&(e.sort_order="Sort order cannot be negative"),n(e),0===Object.keys(e).length})())try{x(!0);const s={name:a.name,slug:a.slug,description:a.description||null,imageUrl:a.image_url||null,parentId:a.parent_id||null,sortOrder:parseInt(a.sort_order),isActive:a.is_active};e?(yield ge.put(`/categories/${e.id}`,s),g("Category updated successfully")):(yield ge.post("/categories",s),g("Category created successfully")),t()}catch(r){p(r.message||"Failed to save category")}finally{x(!1)}}),className:"space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),m.jsx(_e,{label:"Category Name",name:"name",value:a.name,onChange:y,error:l.name,required:!0,placeholder:"Enter category name"}),m.jsx(_e,{label:"Slug",name:"slug",value:a.slug,onChange:y,error:l.slug,required:!0,helperText:"URL-friendly version of the name",placeholder:"category-slug"}),m.jsx(Pe,{label:"Description",name:"description",value:a.description,onChange:y,rows:3,placeholder:"Category description"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Category Image"}),m.jsx(Oe,{value:a.image_url,onChange:e=>r(s=>d(i({},s),{image_url:Array.isArray(e)?e[0]:e})),multiple:!1,label:"Upload Category Image",helperText:"Upload a category image or enter URL below"}),m.jsx(_e,{label:"Or Enter Image URL",name:"image_url",value:a.image_url,onChange:y,placeholder:"https://example.com/image.jpg",helperText:"Direct URL to category image"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Hierarchy & Settings"}),m.jsx(Ae,{label:"Parent Category",name:"parent_id",value:a.parent_id,onChange:y,options:[{value:"",label:"None (Top Level)"},...u.filter(e=>e.is_active).map(e=>({value:e.id,label:e.name}))],helperText:"Select a parent category to create a subcategory"}),m.jsx(_e,{label:"Sort Order",name:"sort_order",type:"number",value:a.sort_order,onChange:y,error:l.sort_order,placeholder:"0",helperText:"Lower numbers appear first"}),m.jsx(Ee,{label:"Active",name:"is_active",checked:a.is_active,onChange:y})]}),m.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[m.jsx("button",{type:"button",onClick:s,disabled:o,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),m.jsxs("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-amber-600 rounded-lg hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[o&&m.jsx(W,{className:"h-4 w-4 animate-spin"}),m.jsx("span",{children:e?"Update Category":"Create Category"})]})]})]})})},Me=()=>{const[e,s]=A.useState([]),[t,a]=A.useState(!0),[r,l]=A.useState(""),[n,i]=A.useState(""),[d,o]=A.useState(!1),[x,u]=A.useState(!1),[h,g]=A.useState(null),[p,b]=A.useState(!1),{showSuccess:y,showError:f}=he();A.useEffect(()=>{j()},[r,n]);const j=()=>c(null,null,function*(){try{a(!0);const e=yield ge.get("/categories");if(e.success){let t=e.data;if(r&&(t=t.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.slug.toLowerCase().includes(r.toLowerCase()))),n){const e="active"===n;t=t.filter(s=>s.is_active===e)}s(t)}}catch(e){f(e.message||"Failed to load categories")}finally{a(!1)}}),N=[{key:"image_url",label:"Image",width:"80px",render:e=>m.jsx("img",{src:e.image_url||"/placeholder.png",alt:e.name,className:"w-12 h-12 rounded-lg object-cover"})},{key:"name",label:"Name",sortable:!0,render:e=>m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:e.name}),m.jsx("p",{className:"text-xs text-gray-500",children:e.slug})]})},{key:"parent_name",label:"Parent Category",render:e=>m.jsx("span",{className:"text-sm text-gray-600",children:e.parent_name||"-"})},{key:"product_count",label:"Products",sortable:!0,render:e=>m.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:e.product_count||0})},{key:"sort_order",label:"Order",sortable:!0,render:e=>m.jsx("span",{className:"text-sm text-gray-600",children:e.sort_order})},{key:"is_active",label:"Status",render:e=>m.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})},{key:"actions",label:"Actions",width:"120px",render:e=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:()=>(e=>{g(e),o(!0)})(e),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:m.jsx(Q,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>{g(e),u(!0)},className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:m.jsx(J,{className:"h-4 w-4"})})]})}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Manage product categories"})]}),m.jsxs("button",{onClick:()=>{g(null),o(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[m.jsx(V,{className:"h-5 w-5"}),m.jsx("span",{children:"Add Category"})]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search categories...",value:r,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),m.jsxs("select",{value:n,onChange:e=>i(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[m.jsx("option",{value:"",children:"All Status"}),m.jsx("option",{value:"active",children:"Active"}),m.jsx("option",{value:"inactive",children:"Inactive"})]}),m.jsx("button",{onClick:()=>{l(""),i("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Filters"})]})}),m.jsx(Se,{data:e,columns:N,loading:t,emptyMessage:"No categories found"}),d&&m.jsx(Fe,{category:h,onClose:()=>{o(!1),g(null)},onSuccess:()=>{o(!1),g(null),j()}}),m.jsx(je,{isOpen:x,onClose:()=>{u(!1),g(null)},onConfirm:()=>c(null,null,function*(){if(h)try{b(!0),yield ge.delete(`/categories/${h.id}`),y("Category deleted successfully"),u(!1),g(null),j()}catch(e){f(e.message||"Failed to delete category")}finally{b(!1)}}),title:"Delete Category",message:`Are you sure you want to delete "${null==h?void 0:h.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger",loading:p})]})},Le=({orderId:e,onClose:s})=>{const[t,a]=A.useState(null),[r,l]=A.useState(!0),[n,i]=A.useState(!1),[d,o]=A.useState(""),[x,u]=A.useState(""),[h,g]=A.useState(""),[p,b]=A.useState(!1),{showSuccess:y,showError:f}=he();A.useEffect(()=>{j()},[e]);const j=()=>c(null,null,function*(){try{l(!0);const s=yield ge.get(`/admin/orders/${e}`);s.success&&(a(s.data),o(s.data.status),u(s.data.payment_status),g(s.data.tracking_number||""))}catch(s){f(s.message||"Failed to load order details")}finally{l(!1)}});return r?m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:m.jsx(W,{className:"h-8 w-8 animate-spin text-amber-600"})}):t?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx(K,{className:"h-5 w-5"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Order ",t.order_number]}),m.jsxs("p",{className:"text-gray-600 mt-1",children:["Placed on ",new Date(t.created_at).toLocaleDateString()]})]})]}),m.jsxs("button",{onClick:()=>c(null,null,function*(){try{(yield ge.get(`/admin/orders/${e}/invoice`)).success&&y("Invoice data retrieved. Print functionality coming soon.")}catch(s){f(s.message||"Failed to retrieve invoice")}}),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[m.jsx(Z,{className:"h-5 w-5"}),m.jsx("span",{children:"Print Invoice"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[m.jsx(k,{className:"h-5 w-5 mr-2"}),"Order Items"]}),m.jsx("div",{className:"space-y-4",children:t.items.map(e=>m.jsxs("div",{className:"flex items-center space-x-4 pb-4 border-b border-gray-200 last:border-0",children:[m.jsx("img",{src:e.product_image||"/placeholder.png",alt:e.product_name,className:"w-16 h-16 rounded-lg object-cover"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-medium text-gray-900",children:e.product_name}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-semibold text-gray-900",children:["$",Number(e.total_price).toFixed(2)]}),m.jsxs("p",{className:"text-sm text-gray-600",children:["$",Number(e.unit_price).toFixed(2)," each"]})]})]},e.id))}),m.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"text-gray-900",children:["₹",Number(t.subtotal).toLocaleString("en-IN")]})]}),Number(t.discount_amount)>0&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Discount"}),m.jsxs("span",{className:"text-green-600",children:["-₹",Number(t.discount_amount).toLocaleString("en-IN")]})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Tax"}),m.jsxs("span",{className:"text-gray-900",children:["₹",Number(t.tax_amount).toLocaleString("en-IN")]})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Shipping"}),m.jsxs("span",{className:"text-gray-900",children:["₹",Number(t.shipping_amount).toLocaleString("en-IN")]})]}),m.jsxs("div",{className:"flex justify-between text-lg font-semibold pt-2 border-t border-gray-200",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{className:"text-amber-600",children:["₹",Number(t.total_amount).toLocaleString("en-IN")]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Information"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),m.jsx("p",{className:"font-medium text-gray-900",children:t.customer_name})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),m.jsx("p",{className:"font-medium text-gray-900",children:t.customer_email})]}),t.shipping_address&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Shipping Address"}),m.jsxs("p",{className:"font-medium text-gray-900",children:[t.shipping_address.street_address,m.jsx("br",{}),t.shipping_address.city,", ",t.shipping_address.state," ",t.shipping_address.postal_code,m.jsx("br",{}),t.shipping_address.country]})]})]})]})]}),m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),m.jsxs("select",{value:d,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"confirmed",children:"Confirmed"}),m.jsx("option",{value:"processing",children:"Processing"}),m.jsx("option",{value:"shipped",children:"Shipped"}),m.jsx("option",{value:"delivered",children:"Delivered"}),m.jsx("option",{value:"cancelled",children:"Cancelled"}),m.jsx("option",{value:"refunded",children:"Refunded"})]}),d!==t.status&&m.jsx("button",{onClick:()=>b(!0),disabled:n,className:"mt-2 w-full px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50 transition-colors",children:"Update Status"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),m.jsxs("select",{value:x,onChange:s=>{u(s.target.value),s.target.value!==t.payment_status&&c(null,null,function*(){if(t&&x!==t.payment_status)try{i(!0),yield ge.patch(`/admin/orders/${e}/payment-status`,{payment_status:x}),y("Payment status updated successfully"),j()}catch(s){f(s.message||"Failed to update payment status")}finally{i(!1)}})},disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 disabled:opacity-50",children:[m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"paid",children:"Paid"}),m.jsx("option",{value:"failed",children:"Failed"}),m.jsx("option",{value:"refunded",children:"Refunded"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[m.jsx(X,{className:"h-4 w-4 mr-2"}),"Tracking Number"]}),m.jsx("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"Enter tracking number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"}),h!==t.tracking_number&&m.jsx("button",{onClick:()=>c(null,null,function*(){if(t&&h!==t.tracking_number)try{i(!0),yield ge.patch(`/admin/orders/${e}/tracking`,{tracking_number:h}),y("Tracking number updated successfully"),j()}catch(s){f(s.message||"Failed to update tracking number")}finally{i(!1)}}),disabled:n,className:"mt-2 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:"Update Tracking"})]})]})]})})]}),m.jsx(je,{isOpen:p,onClose:()=>b(!1),onConfirm:()=>c(null,null,function*(){if(t&&d!==t.status)try{i(!0),yield ge.patch(`/admin/orders/${e}/status`,{status:d}),y("Order status updated successfully"),b(!1),j()}catch(s){f(s.message||"Failed to update order status")}finally{i(!1)}else b(!1)}),title:"Update Order Status",message:`Are you sure you want to change the order status to "${d}"?`,confirmText:"Update",variant:"warning",loading:n})]}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx("p",{className:"text-gray-600",children:"Order not found"}),m.jsx("button",{onClick:s,className:"mt-4 text-amber-600 hover:text-amber-700",children:"Go Back"})]})},Ue=()=>{const[e,s]=A.useState([]),[t,a]=A.useState(!0),[r,l]=A.useState(""),[n,d]=A.useState(""),[o,x]=A.useState(""),[u,h]=A.useState(1),[g,p]=A.useState(1),[b,y]=A.useState(0),[f,j]=A.useState(null),{showNotification:N}=he();A.useEffect(()=>{v()},[u,r,n,o]);const v=()=>c(null,null,function*(){try{a(!0);const e=new URLSearchParams(i(i(i({page:u.toString(),limit:10..toString()},r&&{search:r}),n&&{status:n}),o&&{paymentStatus:o})),t=yield ge.get(`/admin/orders?${e}`);t.success&&(s(t.data),p(t.pagination.totalPages),y(t.pagination.total))}catch(e){N({type:"error",title:"Error",message:e.message||"Failed to load orders"})}finally{a(!1)}}),w=e=>(null==e?void 0:e.toLowerCase().includes("cash"))||(null==e?void 0:e.toLowerCase().includes("cod"))?"Cash on Delivery":e||"Online Payment",k=[{key:"order_number",label:"Order #",sortable:!0,render:e=>m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:e.order_number}),m.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]})},{key:"customer_name",label:"Customer",render:e=>m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:e.customer_name}),m.jsx("p",{className:"text-xs text-gray-500",children:e.customer_email})]})},{key:"total_amount",label:"Total",sortable:!0,render:e=>m.jsxs("span",{className:"font-semibold text-gray-900",children:["₹",Number(e.total_amount).toFixed(2)]})},{key:"status",label:"Status",render:e=>{return m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s=e.status,{pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"}[s]||"bg-gray-100 text-gray-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)});var s}},{key:"payment_method",label:"Payment",render:e=>{return m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${t=e.payment_status,{pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800"}`,children:[(s=e.payment_method,(null==s?void 0:s.toLowerCase().includes("cash"))||(null==s?void 0:s.toLowerCase().includes("cod"))?m.jsx(se,{className:"h-4 w-4"}):m.jsx(te,{className:"h-4 w-4"})),m.jsx("span",{className:"ml-1",children:w(e.payment_method)})]}),m.jsx("span",{className:"text-xs text-gray-500 mt-1",children:e.payment_status.charAt(0).toUpperCase()+e.payment_status.slice(1)})]});var s,t}},{key:"actions",label:"Actions",width:"100px",render:e=>m.jsx("button",{onClick:()=>j(e.id),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"View Details",children:m.jsx(ee,{className:"h-4 w-4"})})}];return f?m.jsx(Le,{orderId:f,onClose:()=>{j(null),v()}}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Manage customer orders"})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search orders...",value:r,onChange:e=>{l(e.target.value),h(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),m.jsxs("select",{value:n,onChange:e=>{d(e.target.value),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[m.jsx("option",{value:"",children:"All Status"}),m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"confirmed",children:"Confirmed"}),m.jsx("option",{value:"processing",children:"Processing"}),m.jsx("option",{value:"shipped",children:"Shipped"}),m.jsx("option",{value:"delivered",children:"Delivered"}),m.jsx("option",{value:"cancelled",children:"Cancelled"}),m.jsx("option",{value:"refunded",children:"Refunded"})]}),m.jsxs("select",{value:o,onChange:e=>{x(e.target.value),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[m.jsx("option",{value:"",children:"All Payment Status"}),m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"paid",children:"Paid"}),m.jsx("option",{value:"failed",children:"Failed"}),m.jsx("option",{value:"refunded",children:"Refunded"})]}),m.jsx("button",{onClick:()=>{l(""),d(""),x(""),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Filters"})]})}),m.jsx(Se,{data:e,columns:k,loading:t,pagination:{currentPage:u,totalPages:g,pageSize:10,totalItems:b,onPageChange:h},emptyMessage:"No orders found"})]})},Ie=({user:e,onClose:s,onSuccess:t})=>{const[a,r]=A.useState({full_name:"",email:"",password:"",role:"customer",is_active:!0}),[l,n]=A.useState({}),[o,x]=A.useState(!1),[u,h]=A.useState(!1),{showSuccess:g,showError:p}=he();A.useEffect(()=>{e&&r({full_name:e.full_name||"",email:e.email||"",password:"",role:e.role||"customer",is_active:void 0===e.is_active||e.is_active})},[e]);const b=e=>{const{name:s,value:t,type:a}=e.target;if("checkbox"===a){const t=e.target.checked;r(e=>d(i({},e),{[s]:t}))}else r(e=>d(i({},e),{[s]:t}));l[s]&&n(e=>d(i({},e),{[s]:""}))},y=0===(f=a.password).length?{strength:"",color:""}:f.length<6?{strength:"Weak",color:"text-red-600"}:f.length<10?{strength:"Medium",color:"text-yellow-600"}:f.length>=10&&/[A-Z]/.test(f)&&/[0-9]/.test(f)?{strength:"Strong",color:"text-green-600"}:{strength:"Medium",color:"text-yellow-600"};var f;return m.jsx(fe,{isOpen:!0,onClose:s,title:e?"Edit User":"Add New User",size:"2xl",children:m.jsxs("form",{onSubmit:s=>c(null,null,function*(){if(s.preventDefault(),(()=>{const s={};var t;return a.full_name.trim()||(s.full_name="Full name is required"),a.email.trim()?(t=a.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(s.email="Invalid email format")):s.email="Email is required",e||a.password?a.password&&a.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required for new users",a.role||(s.role="Role is required"),n(s),0===Object.keys(s).length})())try{x(!0);const s={full_name:a.full_name,email:a.email,role:a.role,is_active:a.is_active};a.password&&(s.password=a.password),e?(yield ge.put(`/admin/users/${e.id}`,s),g("Success","User updated successfully")):(yield ge.post("/admin/users",s),g("Success","User created successfully")),t()}catch(r){p("Error",r.message||"Failed to save user")}finally{x(!1)}}),className:"space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),m.jsx(_e,{label:"Full Name",name:"full_name",value:a.full_name,onChange:b,error:l.full_name||"",required:!0,placeholder:"Enter full name"}),m.jsx(_e,{label:"Email",name:"email",type:"email",value:a.email,onChange:b,error:l.email||"",required:!0,placeholder:"user@example.com"}),m.jsxs("div",{className:"relative",children:[m.jsx(_e,{label:e?"Password (leave blank to keep current)":"Password",name:"password",type:u?"text":"password",value:a.password,onChange:b,error:l.password||"",required:!e,placeholder:"Enter password"}),m.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",children:u?m.jsx(ae,{className:"h-5 w-5"}):m.jsx(ee,{className:"h-5 w-5"})}),a.password&&m.jsxs("p",{className:`text-sm mt-1 ${y.color}`,children:["Password strength: ",y.strength]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Role & Status"}),m.jsx(Ae,{label:"Role",name:"role",value:a.role,onChange:b,error:l.role||"",required:!0,options:[{value:"customer",label:"Customer"},{value:"seller",label:"Seller"},{value:"admin",label:"Admin"}]}),m.jsx(Ee,{label:"Active",name:"is_active",checked:a.is_active,onChange:b})]}),m.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[m.jsx("button",{type:"button",onClick:s,disabled:o,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),m.jsxs("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-amber-600 rounded-lg hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[o&&m.jsx(W,{className:"h-4 w-4 animate-spin"}),m.jsx("span",{children:e?"Update User":"Create User"})]})]})]})})},$e=()=>{const[e,s]=A.useState([]),[t,a]=A.useState(!0),[r,l]=A.useState(""),[n,d]=A.useState(""),[o,x]=A.useState(""),[u,h]=A.useState(1),[g,p]=A.useState(1),[b,y]=A.useState(0),[f,j]=A.useState(!1),[N,v]=A.useState(!1),[w,k]=A.useState(null),[C,S]=A.useState(!1),{showSuccess:_,showError:P}=he();A.useEffect(()=>{E()},[u,r,n,o]);const E=()=>c(null,null,function*(){try{a(!0);const e=new URLSearchParams(i(i(i({page:u.toString(),limit:10..toString()},r&&{search:r}),n&&{role:n}),o&&{status:o})),t=yield ge.get(`/admin/users?${e}`);t.success&&(s(t.data),p(t.pagination.totalPages),y(t.pagination.total))}catch(e){P(e.message||"Failed to load users")}finally{a(!1)}}),O=[{key:"full_name",label:"Name",sortable:!0,render:e=>m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:e.full_name}),m.jsx("p",{className:"text-xs text-gray-500",children:e.email})]})},{key:"role",label:"Role",render:e=>{return m.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s=e.role,{admin:"bg-purple-100 text-purple-800",seller:"bg-blue-100 text-blue-800",customer:"bg-gray-100 text-gray-800"}[s]||"bg-gray-100 text-gray-800"}`,children:e.role.charAt(0).toUpperCase()+e.role.slice(1)});var s}},{key:"order_count",label:"Orders",sortable:!0,render:e=>m.jsx("span",{className:"text-sm text-gray-600",children:e.order_count||0})},{key:"total_spent",label:"Total Spent",sortable:!0,render:e=>m.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["$",Number(e.total_spent||0).toFixed(2)]})},{key:"is_active",label:"Status",render:e=>m.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"})},{key:"created_at",label:"Registered",sortable:!0,render:e=>m.jsx("span",{className:"text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString()})},{key:"actions",label:"Actions",width:"150px",render:e=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:()=>(e=>c(null,null,function*(){try{yield ge.patch(`/admin/users/${e.id}/toggle-status`),_(`User ${e.is_active?"deactivated":"activated"} successfully`),E()}catch(s){P(s.message||"Failed to update user status")}}))(e),className:"p-1 rounded transition-colors "+(e.is_active?"text-orange-600 hover:bg-orange-50":"text-green-600 hover:bg-green-50"),title:e.is_active?"Deactivate":"Activate",children:m.jsx(re,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>(e=>{k(e),j(!0)})(e),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:m.jsx(Q,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>{k(e),v(!0)},className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:m.jsx(J,{className:"h-4 w-4"})})]})}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Manage user accounts"})]}),m.jsxs("button",{onClick:()=>{k(null),j(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[m.jsx(V,{className:"h-5 w-5"}),m.jsx("span",{children:"Add User"})]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search users...",value:r,onChange:e=>{l(e.target.value),h(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500"})]}),m.jsxs("select",{value:n,onChange:e=>{d(e.target.value),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[m.jsx("option",{value:"",children:"All Roles"}),m.jsx("option",{value:"admin",children:"Admin"}),m.jsx("option",{value:"seller",children:"Seller"}),m.jsx("option",{value:"customer",children:"Customer"})]}),m.jsxs("select",{value:o,onChange:e=>{x(e.target.value),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500",children:[m.jsx("option",{value:"",children:"All Status"}),m.jsx("option",{value:"active",children:"Active"}),m.jsx("option",{value:"inactive",children:"Inactive"})]}),m.jsx("button",{onClick:()=>{l(""),d(""),x(""),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Filters"})]})}),m.jsx(Se,{data:e,columns:O,loading:t,pagination:{currentPage:u,totalPages:g,pageSize:10,totalItems:b,onPageChange:h},emptyMessage:"No users found"}),f&&m.jsx(Ie,{user:w,onClose:()=>{j(!1),k(null)},onSuccess:()=>{j(!1),k(null),E()}}),m.jsx(je,{isOpen:N,onClose:()=>{v(!1),k(null)},onConfirm:()=>c(null,null,function*(){if(w)try{S(!0),yield ge.delete(`/admin/users/${w.id}`),_("User deleted successfully"),v(!1),k(null),E()}catch(e){P(e.message||"Failed to delete user")}finally{S(!1)}}),title:"Delete User",message:`Are you sure you want to delete "${null==w?void 0:w.full_name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger",loading:C})]})},ze=()=>m.jsx(ke,{children:m.jsxs(le,{children:[m.jsx(ne,{path:"/",element:m.jsx(Ce,{})}),m.jsx(ne,{path:"/products",element:m.jsx(De,{})}),m.jsx(ne,{path:"/categories",element:m.jsx(Me,{})}),m.jsx(ne,{path:"/orders",element:m.jsx(Ue,{})}),m.jsx(ne,{path:"/users",element:m.jsx($e,{})}),m.jsx(ne,{path:"/analytics",element:m.jsx("div",{className:"text-center py-12 text-gray-600",children:"Analytics Dashboard (Coming Soon)"})}),m.jsx(ne,{path:"*",element:m.jsx(ie,{to:"/admin",replace:!0})})]})}),Re=[{name:"Dashboard",path:"dashboard",icon:m.jsx(w,{className:"h-5 w-5"})},{name:"My Orders",path:"orders",icon:m.jsx(k,{className:"h-5 w-5"})},{name:"Manage Addresses",path:"addresses",icon:m.jsx(de,{className:"h-5 w-5"})},{name:"Payment Methods",path:"payments",icon:m.jsx(te,{className:"h-5 w-5"})},{name:"Profile",path:"profile",icon:m.jsx(D,{className:"h-5 w-5"})},{name:"Notifications",path:"notifications",icon:m.jsx(T,{className:"h-5 w-5"})}],qe=({isOpen:e,isMobileOpen:s,onToggle:t,onMobileToggle:a,activeTab:r,onTabChange:l})=>{var n;const{user:i}=ue(),[d,o]=A.useState(!1),c=e=>{l(e),window.innerWidth<1024&&a()};return m.jsxs(m.Fragment,{children:[m.jsxs("aside",{className:"fixed top-0 left-0 z-40 h-screen transition-all duration-300 bg-white border-r border-gray-200 hidden lg:block "+(e?"w-64":"w-20"),children:[m.jsx("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:e?m.jsxs("button",{onClick:()=>c("dashboard"),className:"flex items-center space-x-2 cursor-pointer",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center",children:m.jsx(D,{className:"h-5 w-5 text-white"})}),m.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Customer"})]}):m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center mx-auto",children:m.jsx(D,{className:"h-5 w-5 text-white"})})}),m.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:Re.map(s=>m.jsxs("button",{onClick:()=>c(s.path),className:"flex items-center px-3 py-3 rounded-lg transition-all duration-200 group w-full text-left "+(r===s.path?"bg-gradient-to-r from-purple-50 to-indigo-50 text-purple-700 font-medium":"text-gray-700 hover:bg-gray-50"),title:e?void 0:s.name,children:[m.jsx("span",{className:""+(r===s.path?"text-purple-600":"text-gray-500 group-hover:text-gray-700"),children:s.icon}),e&&m.jsx("span",{className:"ml-3 text-sm font-medium",children:s.name})]},s.path))}),m.jsx("div",{className:"absolute bottom-4 right-0 transform translate-x-1/2",children:m.jsx("button",{onClick:t,className:"w-8 h-8 bg-white border border-gray-200 rounded-full shadow-md flex items-center justify-center hover:bg-gray-50 transition-colors",children:e?m.jsx(N,{className:"h-4 w-4 text-gray-600"}):m.jsx(v,{className:"h-4 w-4 text-gray-600"})})})]}),m.jsxs("aside",{className:"fixed top-0 left-0 z-50 h-screen w-64 transition-transform duration-300 bg-white border-r border-gray-200 lg:hidden "+(s?"translate-x-0":"-translate-x-full"),children:[m.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[m.jsxs("button",{onClick:()=>c("dashboard"),className:"flex items-center space-x-2 cursor-pointer",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center",children:m.jsx(D,{className:"h-5 w-5 text-white"})}),m.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Customer"})]}),m.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100",children:m.jsx(b,{className:"h-5 w-5 text-gray-600"})})]}),m.jsx("div",{className:"p-4 border-b border-gray-200",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center",children:m.jsx(D,{className:"h-5 w-5 text-white"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:(null==i?void 0:i.fullName)||(null==(n=null==i?void 0:i.email)?void 0:n.split("@")[0])||"Customer"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Customer Account"})]})]})}),m.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:Re.map(e=>m.jsxs("button",{onClick:()=>c(e.path),className:"flex items-center px-3 py-3 rounded-lg transition-all duration-200 w-full text-left "+(r===e.path?"bg-gradient-to-r from-purple-50 to-indigo-50 text-purple-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[m.jsx("span",{className:""+(r===e.path?"text-purple-600":"text-gray-500"),children:e.icon}),m.jsx("span",{className:"ml-3 text-sm font-medium",children:e.name})]},e.path))})]}),m.jsx("button",{onClick:a,className:"lg:hidden fixed bottom-6 right-6 z-30 p-3 bg-purple-600 text-white rounded-full shadow-lg hover:bg-purple-700 transition-colors",children:m.jsx(E,{className:"h-6 w-6"})})]})},Be=()=>{const[e,s]=A.useState([]),[t,a]=A.useState(!0),[r,l]=A.useState("all"),[n,i]=A.useState(null),{showError:d}=he();A.useEffect(()=>{o()},[]);const o=()=>c(null,null,function*(){try{const e=yield ge.getOrders();s(e.data||[])}catch(e){d("Error","Failed to load orders")}finally{a(!1)}}),x=[{id:"all",name:"All Orders",count:e.length},{id:"processing",name:"Processing",count:e.filter(e=>"processing"===e.status).length},{id:"shipped",name:"Shipped",count:e.filter(e=>"shipped"===e.status).length},{id:"delivered",name:"Delivered",count:e.filter(e=>"delivered"===e.status).length}],u="all"===r?e:e.filter(e=>e.status===r),h=e=>{switch(e){case"processing":return m.jsx($,{className:"h-4 w-4"});case"shipped":return m.jsx(X,{className:"h-4 w-4"});case"delivered":return m.jsx(g,{className:"h-4 w-4"});default:return m.jsx(k,{className:"h-4 w-4"})}},p=e=>{switch(e){case"processing":return"bg-yellow-100 text-yellow-700";case"shipped":return"bg-blue-100 text-blue-700";case"delivered":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return t?m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),m.jsx("span",{className:"ml-3 text-gray-600",children:"Loading your orders..."})]})}):m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"My Orders"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Manage and track your orders"})]})}),m.jsxs("div",{className:"p-6",children:[m.jsx("div",{className:"border-b border-gray-200 mb-6",children:m.jsx("nav",{className:"-mb-px flex space-x-8",children:x.map(e=>m.jsxs("button",{onClick:()=>l(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap "+(r===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.name,e.count>0&&m.jsx("span",{className:"ml-2 py-0.5 px-2 rounded-full text-xs "+(r===e.id?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-900"),children:e.count})]},e.id))})}),0===u.length?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(k,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),m.jsx("p",{className:"text-gray-600",children:"You haven't placed any orders yet."})]}):m.jsx("div",{className:"space-y-4",children:u.map((e,s)=>{var t,a,r,l,d,o,c;return m.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"border border-gray-200 rounded-lg overflow-hidden",children:[m.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 cursor-pointer",onClick:()=>i(n===e.id?null:e.id),children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",e.order_number||e.id.slice(0,8)]}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"]})]}),m.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${p(e.status)}`,children:[h(e.status),m.jsx("span",{className:"capitalize",children:e.status})]})]}),m.jsxs("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[m.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["₹",(null==(t=e.total_amount)?void 0:t.toLocaleString("en-IN"))||(null==(a=e.total)?void 0:a.toLocaleString("en-IN"))||"0"]}),m.jsx(pe.div,{animate:{rotate:n===e.id?180:0},children:m.jsx(B,{className:"h-5 w-5 text-gray-500"})})]})]})}),m.jsx(be,{children:n===e.id&&m.jsx(pe.div,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Order Items"}),m.jsx("div",{className:"space-y-3",children:e.items&&e.items.map((e,s)=>{var t,a,r,l;return m.jsxs("div",{className:"flex items-center space-x-3",children:[(null==(a=null==(t=e.product)?void 0:t.images)?void 0:a[0])?m.jsx("img",{src:e.product.images[0],alt:e.product.name,className:"h-12 w-12 rounded-lg object-cover"}):m.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center",children:m.jsx(k,{className:"h-6 w-6 text-gray-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:(null==(r=e.product)?void 0:r.name)||"Product"}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",e.quantity," × ₹",(null==(l=e.unit_price)?void 0:l.toLocaleString("en-IN"))||"0"]})]})]},s)})})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Order Summary"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"font-medium",children:["₹",(null==(r=e.subtotal)?void 0:r.toLocaleString("en-IN"))||"0"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Shipping"}),m.jsxs("span",{className:"font-medium",children:["₹",(null==(l=e.shipping_amount)?void 0:l.toLocaleString("en-IN"))||"0"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Tax"}),m.jsxs("span",{className:"font-medium",children:["₹",(null==(d=e.tax_amount)?void 0:d.toLocaleString("en-IN"))||"0"]})]}),m.jsxs("div",{className:"border-t border-gray-200 pt-2 flex justify-between",children:[m.jsx("span",{className:"font-medium text-gray-900",children:"Total"}),m.jsxs("span",{className:"font-bold text-gray-900",children:["₹",(null==(o=e.total_amount)?void 0:o.toLocaleString("en-IN"))||(null==(c=e.total)?void 0:c.toLocaleString("en-IN"))||"0"]})]})]})]})]}),m.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 flex items-center justify-end",children:e.items&&e.items[0]&&e.items[0].product&&m.jsxs("button",{className:"flex items-center space-x-2 text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:[m.jsx(Q,{className:"h-4 w-4"}),m.jsx("span",{children:"Write a Review"})]})})]})})})]},e.id)})})]})]})},Ge=()=>{const{user:e,updateProfile:s}=ue(),[t,a]=A.useState(!1),[r,l]=A.useState(!1),[n,o]=A.useState({fullName:(null==e?void 0:e.fullName)||"",email:(null==e?void 0:e.email)||"",phone:(null==e?void 0:e.phone)||"",dateOfBirth:(null==e?void 0:e.dateOfBirth)||"",gender:(null==e?void 0:e.gender)||""});return m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Profile Information"}),m.jsxs("button",{onClick:()=>a(!t),disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:[r?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):t?m.jsx(oe,{className:"w-4 h-4"}):m.jsx(ce,{className:"w-4 h-4"}),r?"Saving...":t?"Save Changes":"Edit Profile"]})]})}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 mb-8",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-purple-400 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold",children:n.fullName?n.fullName.charAt(0).toUpperCase():"U"}),t&&m.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-purple-600 text-white rounded-full cursor-pointer hover:bg-purple-700 transition-colors",children:[m.jsx(Y,{className:"w-4 h-4"}),m.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var s;null==(s=e.target.files)||s[0]}})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:n.fullName||"Your Name"}),m.jsx("p",{className:"text-gray-600",children:n.email}),m.jsx("p",{className:"text-gray-600 mt-1",children:n.phone?`Phone: ${n.phone}`:"No phone number provided"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),t?m.jsx("input",{type:"text",value:n.fullName,onChange:e=>o(d(i({},n),{fullName:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your full name"}):m.jsx("p",{className:"text-gray-900",children:n.fullName||"Not provided"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),m.jsx("p",{className:"text-gray-900",children:n.email})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),t?m.jsx("input",{type:"tel",value:n.phone,onChange:e=>o(d(i({},n),{phone:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter your phone number"}):m.jsx("p",{className:"text-gray-900",children:n.phone||"Not provided"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),t?m.jsx("input",{type:"date",value:n.dateOfBirth,onChange:e=>o(d(i({},n),{dateOfBirth:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}):m.jsx("p",{className:"text-gray-900",children:n.dateOfBirth||"Not provided"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),t?m.jsxs("select",{value:n.gender,onChange:e=>o(d(i({},n),{gender:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[m.jsx("option",{value:"",children:"Select gender"}),m.jsx("option",{value:"male",children:"Male"}),m.jsx("option",{value:"female",children:"Female"}),m.jsx("option",{value:"other",children:"Other"}),m.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]}):m.jsx("p",{className:"text-gray-900",children:n.gender||"Not provided"})]})]})]})]})},Ye=()=>{const[e,s]=A.useState([]),[t,a]=A.useState(!0),[r,l]=A.useState(!1),[n,o]=A.useState(null),[x,u]=A.useState({fullName:"",streetAddress:"",city:"",state:"",postalCode:"",country:"United States",phone:"",isDefault:!1,type:"shipping"}),{showSuccess:h,showError:g}=he();A.useEffect(()=>{p()},[]);const p=()=>c(null,null,function*(){try{const e=yield ge.getAddresses();s(e.data||[])}catch(e){g("Error","Failed to load addresses")}finally{a(!1)}}),b=e=>{const{name:s,value:t,type:a}=e.target,r="checkbox"===a?e.target.checked:void 0;u(e=>d(i({},e),{[s]:"checkbox"===a?r:t}))};return t?m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),m.jsx("span",{className:"ml-3 text-gray-600",children:"Loading addresses..."})]})}):m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Manage Addresses"}),m.jsxs("button",{onClick:()=>{o(null),u({fullName:"",streetAddress:"",city:"",state:"",postalCode:"",country:"United States",phone:"",isDefault:!1,type:"shipping"}),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[m.jsx(V,{className:"w-4 h-4"}),"Add New Address"]})]})}),m.jsx("div",{className:"p-6",children:0===e.length?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(de,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No addresses found"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first address to get started"}),m.jsx("button",{onClick:()=>{o(null),u({fullName:"",streetAddress:"",city:"",state:"",postalCode:"",country:"United States",phone:"",isDefault:!1,type:"shipping"}),l(!0)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Add Address"})]}):m.jsx("div",{className:"space-y-4",children:e.map(t=>m.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx("h3",{className:"font-medium text-gray-900",children:t.fullName}),t.isDefault&&m.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Default"})]}),m.jsxs("p",{className:"text-gray-600",children:[t.streetAddress,", ",t.city,", ",t.state," ",t.postalCode]}),m.jsx("p",{className:"text-gray-600",children:t.country}),m.jsxs("p",{className:"text-gray-600 mt-1",children:["Phone: ",t.phone]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>{o(t),u({fullName:t.fullName,streetAddress:t.streetAddress,city:t.city,state:t.state,postalCode:t.postalCode,country:t.country,phone:t.phone,isDefault:t.isDefault,type:t.type}),l(!0)},className:"p-2 text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:m.jsx(ce,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>{return a=t.id,c(null,null,function*(){try{yield ge.deleteAddress(a),s(e.filter(e=>e.id!==a)),h("Success","Address deleted successfully")}catch(t){g("Error","Failed to delete address")}});var a},className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:m.jsx(J,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"flex items-center gap-2 mt-4",children:!t.isDefault&&m.jsx("button",{onClick:()=>{return e=t.id,c(null,null,function*(){try{yield ge.updateAddress(e,{isDefault:!0}),p(),h("Success","Default address updated")}catch(s){g("Error","Failed to update default address")}});var e},className:"text-sm text-purple-600 hover:text-purple-800 font-medium",children:"Set as Default"})})]},t.id))})}),r&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsx("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n?"Edit Address":"Add New Address"}),m.jsx("button",{onClick:()=>{l(!1),o(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("form",{onSubmit:e=>c(null,null,function*(){e.preventDefault();try{n?(yield ge.updateAddress(n.id,x),h("Success","Address updated successfully")):(yield ge.createAddress(x),h("Success","Address created successfully")),l(!1),o(null),u({fullName:"",streetAddress:"",city:"",state:"",postalCode:"",country:"United States",phone:"",isDefault:!1,type:"shipping"}),p()}catch(s){g("Error","Failed to save address")}}),className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),m.jsx("input",{type:"text",name:"fullName",value:x.fullName,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter full name",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),m.jsx("input",{type:"text",name:"streetAddress",value:x.streetAddress,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter street address",required:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),m.jsx("input",{type:"text",name:"city",value:x.city,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter city",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),m.jsx("input",{type:"text",name:"state",value:x.state,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter state",required:!0})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),m.jsx("input",{type:"text",name:"postalCode",value:x.postalCode,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter postal code",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),m.jsx("input",{type:"text",name:"country",value:x.country,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter country",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),m.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter phone number"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"default-address",name:"isDefault",checked:x.isDefault,onChange:b,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),m.jsx("label",{htmlFor:"default-address",className:"ml-2 block text-sm text-gray-700",children:"Set as default address"})]}),m.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>{l(!1),o(null)},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:n?"Update Address":"Add Address"})]})]})]})})})]})},We=()=>{const[e,s]=A.useState([]),[t,a]=A.useState(!0),[r,l]=A.useState(!1),[n,o]=A.useState({type:"visa",lastFour:"",expiryMonth:"",expiryYear:"",cardholderName:"",isDefault:!1}),{showSuccess:x,showError:u}=he();A.useEffect(()=>{h()},[]);const h=()=>c(null,null,function*(){try{const e=yield ge.getPaymentMethods();s(e.data||[])}catch(e){u("Error","Failed to load payment methods")}finally{a(!1)}}),p=e=>{const{name:s,value:t,type:a}=e.target,r="checkbox"===a?e.target.checked:void 0;o(e=>d(i({},e),{[s]:"checkbox"===a?r:t}))},b=e=>{switch(e){case"visa":return m.jsx("div",{className:"w-8 h-5 bg-blue-600 rounded text-white text-xs flex items-center justify-center font-bold",children:"VISA"});case"mastercard":return m.jsx("div",{className:"w-8 h-5 bg-red-600 rounded text-white text-xs flex items-center justify-center font-bold",children:"MC"});case"amex":return m.jsx("div",{className:"w-8 h-5 bg-green-600 rounded text-white text-xs flex items-center justify-center font-bold",children:"AMEX"});default:return m.jsx(te,{className:"w-8 h-5 text-gray-400"})}};return t?m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),m.jsx("span",{className:"ml-3 text-gray-600",children:"Loading payment methods..."})]})}):m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Methods"}),m.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[m.jsx(V,{className:"w-4 h-4"}),"Add Payment Method"]})]})}),m.jsx("div",{className:"p-6",children:0===e.length?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(te,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No payment methods found"}),m.jsx("p",{className:"text-gray-600 mb-4",children:"Add your first payment method to get started"}),m.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Add Payment Method"})]}):m.jsx("div",{className:"space-y-4",children:e.map(t=>m.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[b(t.type),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("h3",{className:"font-medium text-gray-900",children:[t.type.charAt(0).toUpperCase()+t.type.slice(1)," ending in ",t.lastFour]}),t.isDefault&&m.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Default"})]}),m.jsxs("p",{className:"text-gray-600 text-sm",children:["Expires ",t.expiryMonth,"/",t.expiryYear]}),t.cardholderName&&m.jsxs("p",{className:"text-gray-600 text-sm",children:["Cardholder: ",t.cardholderName]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[!t.isDefault&&m.jsx("button",{onClick:()=>{return e=t.id,c(null,null,function*(){try{yield ge.setDefaultPaymentMethod(e),h(),x("Success","Default payment method updated")}catch(s){u("Error","Failed to update default payment method")}});var e},className:"p-2 text-gray-500 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:m.jsx(g,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>{return a=t.id,c(null,null,function*(){try{yield ge.deletePaymentMethod(a),s(e.filter(e=>e.id!==a)),x("Success","Payment method deleted successfully")}catch(t){u("Error","Failed to delete payment method")}});var a},className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:m.jsx(J,{className:"w-4 h-4"})})]})]})},t.id))})}),r&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsx("div",{className:"bg-white rounded-xl shadow-lg max-w-md w-full",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Payment Method"}),m.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("form",{onSubmit:e=>c(null,null,function*(){e.preventDefault();try{yield ge.createPaymentMethod(n),x("Success","Payment method added successfully"),l(!1),o({type:"visa",lastFour:"",expiryMonth:"",expiryYear:"",cardholderName:"",isDefault:!1}),h()}catch(s){u("Error","Failed to add payment method")}}),className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Type"}),m.jsxs("select",{name:"type",value:n.type,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:[m.jsx("option",{value:"visa",children:"Visa"}),m.jsx("option",{value:"mastercard",children:"Mastercard"}),m.jsx("option",{value:"amex",children:"American Express"}),m.jsx("option",{value:"paypal",children:"PayPal"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last 4 Digits"}),m.jsx("input",{type:"text",name:"lastFour",value:n.lastFour,onChange:p,maxLength:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"1234",required:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Month"}),m.jsx("input",{type:"text",name:"expiryMonth",value:n.expiryMonth,onChange:p,maxLength:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"MM",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Year"}),m.jsx("input",{type:"text",name:"expiryYear",value:n.expiryYear,onChange:p,maxLength:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"YYYY",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),m.jsx("input",{type:"text",name:"cardholderName",value:n.cardholderName,onChange:p,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter cardholder name"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",id:"default-payment",name:"isDefault",checked:n.isDefault,onChange:p,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),m.jsx("label",{htmlFor:"default-payment",className:"ml-2 block text-sm text-gray-700",children:"Set as default payment method"})]}),m.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Add Payment Method"})]})]})]})})})]})},Ve=()=>{const[e,s]=A.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,orderUpdates:!0,promotionalEmails:!1,newsletter:!0,productUpdates:!0}),[t,a]=A.useState(!0),[r,l]=A.useState(!1),{showSuccess:n,showError:o}=he();A.useEffect(()=>{x()},[]);const x=()=>c(null,null,function*(){try{const e=yield ge.getNotificationPreferences();e.data&&s(e.data)}catch(e){}finally{a(!1)}}),u=e=>{const{name:t,checked:a}=e.target;s(e=>d(i({},e),{[t]:a}))};return t?m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),m.jsx("span",{className:"ml-3 text-gray-600",children:"Loading preferences..."})]})}):m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Notification Preferences"}),m.jsxs("button",{onClick:()=>c(null,null,function*(){l(!0);try{yield ge.updateNotificationPreferences(e),n("Success","Notification preferences saved successfully")}catch(s){o("Error","Failed to save notification preferences")}finally{l(!1)}}),disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:[r?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):m.jsx(oe,{className:"w-4 h-4"}),r?"Saving...":"Save Preferences"]})]})}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Channels"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(me,{className:"w-5 h-5 text-gray-500"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:"Email Notifications"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",name:"emailNotifications",checked:e.emailNotifications,onChange:u,className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(xe,{className:"w-5 h-5 text-gray-500"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:"SMS Notifications"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Receive text messages"})]})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",name:"smsNotifications",checked:e.smsNotifications,onChange:u,className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(T,{className:"w-5 h-5 text-gray-500"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:"Push Notifications"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications in your browser"})]})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",name:"pushNotifications",checked:e.pushNotifications,onChange:u,className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Types"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:"Order Updates"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Get notified about your order status"})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",name:"orderUpdates",checked:e.orderUpdates,onChange:u,className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:"Promotional Emails"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Receive special offers and promotions"})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",name:"promotionalEmails",checked:e.promotionalEmails,onChange:u,className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:"Newsletter"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Receive our monthly newsletter"})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",name:"newsletter",checked:e.newsletter,onChange:u,className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),m.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-gray-900",children:"Product Updates"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Get notified about new products"})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",name:"productUpdates",checked:e.productUpdates,onChange:u,className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})]})]})]})},He=()=>{const[e,s]=A.useState(!0),[t,a]=A.useState(!1),[r,l]=A.useState("dashboard");return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(qe,{isOpen:e,isMobileOpen:t,onToggle:()=>s(!e),onMobileToggle:()=>a(!t),activeTab:r,onTabChange:l}),m.jsx("div",{className:"transition-all duration-300 "+(e?"lg:ml-64":"lg:ml-20"),children:m.jsx("main",{className:"p-6",children:(()=>{switch(r){case"orders":return m.jsx(Be,{});case"addresses":return m.jsx(Ye,{});case"payments":return m.jsx(We,{});case"profile":return m.jsx(Ge,{});case"notifications":return m.jsx(Ve,{});default:return m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customer Dashboard"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome back! Here's an overview of your account."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl p-6 text-white",children:[m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Quick Actions"}),m.jsx("p",{className:"text-purple-100 mb-4",children:"Manage your account efficiently"}),m.jsx("button",{onClick:()=>l("profile"),className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Update Profile"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl p-6 text-white",children:[m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"My Orders"}),m.jsx("p",{className:"text-blue-100 mb-4",children:"Track and manage your orders"}),m.jsx("button",{onClick:()=>l("orders"),className:"bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"View Orders"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-6 text-white",children:[m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Addresses"}),m.jsx("p",{className:"text-green-100 mb-4",children:"Manage your shipping addresses"}),m.jsx("button",{onClick:()=>l("addresses"),className:"bg-white text-green-600 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Manage Addresses"})]})]})]})}})()})}),t&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>a(!1)})]})},Qe=()=>m.jsx(He,{}),Je=()=>{const[e,s]=A.useState([]),[t,a]=A.useState(!0),[r,l]=A.useState(""),[n,d]=A.useState(""),[o,x]=A.useState(""),[u,h]=A.useState(1),[g,p]=A.useState(1),[b,y]=A.useState(0),[f,j]=A.useState(!1),[N,v]=A.useState(!1),[w,k]=A.useState(null),[C,S]=A.useState(!1),{showSuccess:_,showError:P}=he();A.useEffect(()=>{E()},[u,r,n,o]);const E=()=>c(null,null,function*(){try{a(!0);const e=new URLSearchParams(i(i(i({page:u.toString(),limit:10..toString()},r&&{search:r}),n&&{category:n}),o&&{status:o})),t=yield ge.get(`/seller/products?${e}`);t.success&&(s(t.data),p(t.pagination.totalPages),y(t.pagination.total))}catch(e){P("Error",e.message||"Failed to load products")}finally{a(!1)}}),O=[{key:"images",label:"Image",width:"80px",render:e=>m.jsx("img",{src:e.images[0]||"/placeholder.png",alt:e.name,className:"w-12 h-12 rounded-lg object-cover"})},{key:"name",label:"Name",sortable:!0,render:e=>m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-gray-900",children:e.name}),m.jsx("p",{className:"text-xs text-gray-500",children:e.category_name})]})},{key:"price",label:"Price",sortable:!0,render:e=>m.jsxs("div",{children:[m.jsxs("p",{className:"font-semibold text-gray-900",children:["₹",Number(e.price).toLocaleString("en-IN")]}),e.original_price&&m.jsxs("p",{className:"text-xs text-gray-500 line-through",children:["₹",Number(e.original_price).toLocaleString("en-IN")]})]})},{key:"stock",label:"Stock",sortable:!0,render:e=>m.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(0===e.stock?"bg-red-100 text-red-800":e.stock<10?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.stock})},{key:"is_active",label:"Status",render:e=>m.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})},{key:"actions",label:"Actions",width:"120px",render:e=>m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("button",{onClick:()=>(e=>{k(e),j(!0)})(e),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:m.jsx(Q,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>{k(e),v(!0)},className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:m.jsx(J,{className:"h-4 w-4"})})]})}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Products"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your product catalog"})]}),m.jsxs("button",{onClick:()=>{k(null),j(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[m.jsx(V,{className:"h-5 w-5"}),m.jsx("span",{children:"Add Product"})]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search products...",value:r,onChange:e=>{l(e.target.value),h(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("select",{value:o,onChange:e=>{x(e.target.value),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"",children:"All Status"}),m.jsx("option",{value:"active",children:"Active"}),m.jsx("option",{value:"inactive",children:"Inactive"})]}),m.jsx("button",{onClick:()=>{l(""),d(""),x(""),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Filters"})]})}),m.jsx(Se,{data:e,columns:O,loading:t,pagination:{currentPage:u,totalPages:g,pageSize:10,totalItems:b,onPageChange:h},emptyMessage:"No products found"}),f&&m.jsx(Te,{product:w,onClose:()=>{j(!1),k(null)},onSuccess:()=>{j(!1),k(null),E()},endpointPrefix:"/seller"}),m.jsx(je,{isOpen:N,onClose:()=>{v(!1),k(null)},onConfirm:()=>c(null,null,function*(){if(w)try{S(!0),yield ge.delete(`/seller/products/${w.id}`),_("Success","Product deleted successfully"),v(!1),k(null),E()}catch(e){P("Error",e.message||"Failed to delete product")}finally{S(!1)}}),title:"Delete Product",message:`Are you sure you want to delete "${null==w?void 0:w.name}"? This action cannot be undone.`,confirmText:"Delete",variant:"danger",loading:C})]})},Ke=({orderId:e,onClose:s})=>{var t,a;const[r,l]=A.useState(null),[n,i]=A.useState(!0),[d,o]=A.useState(!1),[x,u]=A.useState(""),[h,g]=A.useState(""),[p,b]=A.useState(!1),{showNotification:y}=he();A.useEffect(()=>{f()},[e]);const f=()=>c(null,null,function*(){try{i(!0);const s=yield ge.get(`/seller/orders/${e}`);s.success&&(l(s.data),u(s.data.status),g(s.data.tracking_number||""))}catch(s){y({type:"error",title:"Error",message:s.message||"Failed to load order details"})}finally{i(!1)}});return n?m.jsx("div",{className:"flex items-center justify-center min-h-screen",children:m.jsx(W,{className:"h-8 w-8 animate-spin text-blue-600"})}):r?m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:m.jsx(K,{className:"h-5 w-5"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Order ",r.order_number]}),m.jsxs("p",{className:"text-gray-600 mt-1",children:["Placed on ",new Date(r.created_at).toLocaleDateString()]})]})]})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[m.jsx(k,{className:"h-5 w-5 mr-2"}),"Order Items"]}),m.jsx("div",{className:"space-y-4",children:r.items.map(e=>m.jsxs("div",{className:"flex items-center space-x-4 pb-4 border-b border-gray-200 last:border-0",children:[m.jsx("img",{src:e.product_image||"/placeholder.png",alt:e.product_name,className:"w-16 h-16 rounded-lg object-cover"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-medium text-gray-900",children:e.product_name}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-semibold text-gray-900",children:["₹",Number(e.total_price).toFixed(2)]}),m.jsxs("p",{className:"text-sm text-gray-600",children:["₹",Number(e.unit_price).toFixed(2)," each"]})]})]},e.id))}),m.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Subtotal"}),m.jsxs("span",{className:"text-gray-900",children:["₹",Number(r.subtotal).toFixed(2)]})]}),Number(r.discount_amount)>0&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Discount"}),m.jsxs("span",{className:"text-green-600",children:["-₹",Number(r.discount_amount).toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Tax"}),m.jsxs("span",{className:"text-gray-900",children:["₹",Number(r.tax_amount).toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600",children:"Shipping"}),m.jsxs("span",{className:"text-gray-900",children:["₹",Number(r.shipping_amount).toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-lg font-semibold pt-2 border-t border-gray-200",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{className:"text-blue-600",children:["₹",Number(r.total_amount).toFixed(2)]})]})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Information"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),m.jsx("p",{className:"font-medium text-gray-900",children:r.customer_name})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),m.jsx("p",{className:"font-medium text-gray-900",children:r.customer_email})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),m.jsx("p",{className:"font-medium text-gray-900",children:r.customer_phone||"N/A"})]}),r.shipping_address&&m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Shipping Address"}),m.jsxs("p",{className:"font-medium text-gray-900",children:[r.shipping_address.street_address,m.jsx("br",{}),r.shipping_address.city,", ",r.shipping_address.state," ",r.shipping_address.postal_code,m.jsx("br",{}),r.shipping_address.country]})]})]})]})]}),m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Management"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),m.jsxs("select",{value:x,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"processing",children:"Processing"}),m.jsx("option",{value:"shipped",children:"Shipped"}),m.jsx("option",{value:"delivered",children:"Delivered"})]}),x!==r.status&&m.jsx("button",{onClick:()=>b(!0),disabled:d,className:"mt-2 w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center justify-center",children:d?m.jsxs(m.Fragment,{children:[m.jsx(W,{className:"h-4 w-4 animate-spin mr-2"}),"Updating..."]}):m.jsxs(m.Fragment,{children:[m.jsx(Q,{className:"h-4 w-4 mr-2"}),"Update Status"]})})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[m.jsx(X,{className:"h-4 w-4 mr-2"}),"Tracking Number"]}),m.jsx("input",{type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"Enter tracking number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),h!==r.tracking_number&&m.jsx("button",{onClick:()=>c(null,null,function*(){if(r&&h!==r.tracking_number)try{o(!0),yield ge.patch(`/seller/orders/${e}/tracking`,{tracking_number:h}),y({type:"success",title:"Success",message:"Tracking number updated successfully"}),f()}catch(s){y({type:"error",title:"Error",message:s.message||"Failed to update tracking number"})}finally{o(!1)}}),disabled:d,className:"mt-2 w-full px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 transition-colors flex items-center justify-center",children:d?m.jsxs(m.Fragment,{children:[m.jsx(W,{className:"h-4 w-4 animate-spin mr-2"}),"Updating..."]}):"Update Tracking"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),m.jsx("div",{className:"px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",children:m.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j=r.payment_status,{pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"}[j]||"bg-gray-100 text-gray-800"}`,children:r.payment_status.charAt(0).toUpperCase()+r.payment_status.slice(1)})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),m.jsx("div",{className:"px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",children:m.jsx("span",{className:"text-sm text-gray-900",children:(null==(t=r.payment_method)?void 0:t.toLowerCase().includes("cash"))||(null==(a=r.payment_method)?void 0:a.toLowerCase().includes("cod"))?"Cash on Delivery":r.payment_method||"Online Payment"})})]})]})]})})]}),m.jsx(je,{isOpen:p,onClose:()=>b(!1),onConfirm:()=>c(null,null,function*(){if(r&&x!==r.status)try{o(!0),yield ge.patch(`/seller/orders/${e}/status`,{status:x}),y({type:"success",title:"Success",message:"Order status updated successfully"}),b(!1),f()}catch(s){y({type:"error",title:"Error",message:s.message||"Failed to update order status"})}finally{o(!1)}else b(!1)}),title:"Update Order Status",message:`Are you sure you want to change the order status to "${x}"?`,confirmText:"Update",variant:"warning",loading:d})]}):m.jsxs("div",{className:"text-center py-12",children:[m.jsx("p",{className:"text-gray-600",children:"Order not found"}),m.jsx("button",{onClick:s,className:"mt-4 text-blue-600 hover:text-blue-700",children:"Go Back"})]});var j},Ze=()=>{const[e,s]=A.useState([]),[t,a]=A.useState(!0),[r,l]=A.useState(""),[n,d]=A.useState(""),[o,x]=A.useState(""),[u,h]=A.useState(1),[g,p]=A.useState(1),[b,y]=A.useState(0),[f,j]=A.useState(null),{showSuccess:N,showError:v}=he();A.useEffect(()=>{w()},[u,r,n,o]);const w=()=>c(null,null,function*(){try{a(!0);const e=new URLSearchParams(i(i(i({page:u.toString(),limit:10..toString()},r&&{search:r}),n&&{status:n}),o&&{payment_status:o})),t=yield ge.get(`/seller/orders?${e}`);t.success&&(s(t.data),p(t.pagination.totalPages),y(t.pagination.total))}catch(e){v(e.message||"Failed to load orders")}finally{a(!1)}}),k=e=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"}[e]||"bg-gray-100 text-gray-800"),C=e=>(null==e?void 0:e.toLowerCase().includes("cash"))||(null==e?void 0:e.toLowerCase().includes("cod"))?"Cash on Delivery":e||"Online Payment";return f?m.jsx(Ke,{orderId:f,onClose:()=>{j(null),w()}}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Manage orders for your products"})]})}),m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search orders...",value:r,onChange:e=>{l(e.target.value),h(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("select",{value:n,onChange:e=>{d(e.target.value),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"",children:"All Status"}),m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"confirmed",children:"Confirmed"}),m.jsx("option",{value:"processing",children:"Processing"}),m.jsx("option",{value:"shipped",children:"Shipped"}),m.jsx("option",{value:"delivered",children:"Delivered"}),m.jsx("option",{value:"cancelled",children:"Cancelled"}),m.jsx("option",{value:"refunded",children:"Refunded"})]}),m.jsxs("select",{value:o,onChange:e=>{x(e.target.value),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[m.jsx("option",{value:"",children:"All Payment Status"}),m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"paid",children:"Paid"}),m.jsx("option",{value:"failed",children:"Failed"}),m.jsx("option",{value:"refunded",children:"Refunded"})]}),m.jsx("button",{onClick:()=>{l(""),d(""),x(""),h(1)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Filters"})]})}),t?m.jsx(ye,{text:"Loading orders..."}):m.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:0===e.length?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(X,{className:"h-8 w-8 text-gray-400"})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),m.jsx("p",{className:"text-gray-600",children:"There are no orders for your products yet."})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order #"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{return m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.order_number})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.customer_name}),m.jsx("div",{className:"text-sm text-gray-500",children:e.customer_email})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.item_count}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["₹",Number(e.total_amount).toFixed(2)]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"flex items-center text-sm",children:m.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t=e.payment_status,{pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800"}`,children:[(s=e.payment_method,(null==s?void 0:s.toLowerCase().includes("cash"))||(null==s?void 0:s.toLowerCase().includes("cod"))?m.jsx(se,{className:"h-4 w-4"}):m.jsx(te,{className:"h-4 w-4"})),m.jsx("span",{className:"ml-1",children:C(e.payment_method)})]})})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${k(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:m.jsx("button",{onClick:()=>j(e.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"View Details",children:m.jsx(ee,{className:"h-4 w-4"})})})]},e.id);var s,t})})]})}),g>1&&m.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[m.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[m.jsx("button",{onClick:()=>h(Math.max(1,u-1)),disabled:1===u,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),m.jsx("button",{onClick:()=>h(Math.min(g,u+1)),disabled:u===g,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),m.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[m.jsx("div",{children:m.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",m.jsx("span",{className:"font-medium",children:10*(u-1)+1})," to"," ",m.jsx("span",{className:"font-medium",children:Math.min(10*u,b)})," of"," ",m.jsx("span",{className:"font-medium",children:b})," results"]})}),m.jsx("div",{children:m.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[m.jsxs("button",{onClick:()=>h(Math.max(1,u-1)),disabled:1===u,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[m.jsx("span",{className:"sr-only",children:"Previous"}),"Previous"]}),[...Array(g)].map((e,s)=>m.jsx("button",{onClick:()=>h(s+1),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium "+(u===s+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:s+1},s+1)),m.jsxs("button",{onClick:()=>h(Math.min(g,u+1)),disabled:u===g,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[m.jsx("span",{className:"sr-only",children:"Next"}),"Next"]})]})})]})]})]})})]})},Xe=({onMenuClick:e,sidebarOpen:s})=>{var t;const{user:a,logout:r}=ue(),[l,n]=A.useState(!1),i=A.useRef(null);A.useEffect(()=>{const e=e=>{i.current&&!i.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return m.jsx("header",{className:"sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm",children:m.jsxs("div",{className:"flex items-center justify-between h-16 px-4 md:px-6",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:m.jsx(E,{className:"h-6 w-6 text-gray-600"})}),m.jsx("div",{children:m.jsx("h1",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Seller Dashboard"})})]}),m.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[m.jsx(f,{to:"/",className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Go to Home",children:m.jsx(O,{className:"h-5 w-5 text-gray-600"})}),m.jsxs("button",{className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",title:"Notifications",children:[m.jsx(T,{className:"h-5 w-5 text-gray-600"}),m.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),m.jsxs("div",{className:"relative",ref:i,children:[m.jsxs("button",{onClick:()=>n(!l),className:"flex items-center space-x-2 md:space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:m.jsx(D,{className:"h-4 w-4 text-white"})}),m.jsxs("div",{className:"hidden md:block text-left",children:[m.jsx("p",{className:"text-sm font-medium text-gray-900",children:(null==a?void 0:a.fullName)||(null==a?void 0:a.name)||(null==(t=null==a?void 0:a.email)?void 0:t.split("@")[0])||"Seller"}),m.jsx("p",{className:"text-xs text-gray-500 capitalize",children:(null==a?void 0:a.role)||"seller"})]})]}),l&&m.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[m.jsxs(f,{to:"/dashboard/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>n(!1),children:[m.jsx(F,{className:"h-4 w-4 mr-3 text-gray-500"}),"Profile Settings"]}),m.jsxs("button",{onClick:()=>c(null,null,function*(){try{yield r(),window.location.href="/"}catch(e){}}),className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[m.jsx(M,{className:"h-4 w-4 mr-3"}),"Logout"]})]})]})]})]})})},es=[{name:"Dashboard",path:"dashboard",icon:m.jsx(w,{className:"h-5 w-5"})},{name:"Products",path:"products",icon:m.jsx(k,{className:"h-5 w-5"})},{name:"Orders",path:"orders",icon:m.jsx(S,{className:"h-5 w-5"})},{name:"Analytics",path:"analytics",icon:m.jsx(P,{className:"h-5 w-5"})},{name:"Profile",path:"profile",icon:m.jsx(D,{className:"h-5 w-5"})}],ss=({isOpen:e,isMobileOpen:s,onToggle:t,onMobileToggle:a,activeTab:r,onTabChange:l})=>{const n=e=>{l(e),window.innerWidth<1024&&a()};return m.jsxs(m.Fragment,{children:[m.jsxs("aside",{className:"fixed top-0 left-0 z-40 h-screen transition-all duration-300 bg-white border-r border-gray-200 hidden lg:block "+(e?"w-64":"w-20"),children:[m.jsx("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:e?m.jsxs("button",{onClick:()=>n("dashboard"),className:"flex items-center space-x-2 cursor-pointer",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:m.jsx(j,{className:"h-5 w-5 text-white"})}),m.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Seller"})]}):m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center mx-auto",children:m.jsx(j,{className:"h-5 w-5 text-white"})})}),m.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:es.map(s=>m.jsxs("button",{onClick:()=>n(s.path),className:"flex items-center px-3 py-3 rounded-lg transition-all duration-200 group w-full text-left "+(r===s.path?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),title:e?void 0:s.name,children:[m.jsx("span",{className:""+(r===s.path?"text-blue-600":"text-gray-500 group-hover:text-gray-700"),children:s.icon}),e&&m.jsx("span",{className:"ml-3 text-sm font-medium",children:s.name})]},s.path))}),m.jsx("div",{className:"absolute bottom-4 right-0 transform translate-x-1/2",children:m.jsx("button",{onClick:t,className:"w-8 h-8 bg-white border border-gray-200 rounded-full shadow-md flex items-center justify-center hover:bg-gray-50 transition-colors",children:e?m.jsx(N,{className:"h-4 w-4 text-gray-600"}):m.jsx(v,{className:"h-4 w-4 text-gray-600"})})})]}),m.jsxs("aside",{className:"fixed top-0 left-0 z-40 h-screen w-64 transition-transform duration-300 bg-white border-r border-gray-200 lg:hidden "+(s?"translate-x-0":"-translate-x-full"),children:[m.jsx("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:m.jsxs("button",{onClick:()=>n("dashboard"),className:"flex items-center space-x-2 cursor-pointer",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:m.jsx(j,{className:"h-5 w-5 text-white"})}),m.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Seller"})]})}),m.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:es.map(e=>m.jsxs("button",{onClick:()=>n(e.path),className:"flex items-center px-3 py-3 rounded-lg transition-all duration-200 w-full text-left "+(r===e.path?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"),children:[m.jsx("span",{className:""+(r===e.path?"text-blue-600":"text-gray-500"),children:e.icon}),m.jsx("span",{className:"ml-3 text-sm font-medium",children:e.name})]},e.path))})]})]})},ts=()=>{const{user:e}=ue();return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Seller Dashboard"}),m.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",(null==e?void 0:e.fullName)||(null==e?void 0:e.email)||"Seller","!"]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),m.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"0"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your inventory"})]}),m.jsx("div",{className:"bg-blue-500 p-3 rounded-lg",children:m.jsx(k,{className:"h-6 w-6 text-white"})})]})}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Orders"}),m.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"0"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Awaiting fulfillment"})]}),m.jsx("div",{className:"bg-indigo-500 p-3 rounded-lg",children:m.jsx(S,{className:"h-6 w-6 text-white"})})]})}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),m.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:"₹0"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This month"})]}),m.jsx("div",{className:"bg-green-500 p-3 rounded-lg",children:m.jsx(P,{className:"h-6 w-6 text-white"})})]})})]}),m.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Getting Started"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[m.jsx("button",{onClick:()=>window.location.hash="#/dashboard/products",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:m.jsx(k,{className:"h-5 w-5 text-blue-600"})}),m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"font-medium text-gray-900",children:"Add Products"}),m.jsx("p",{className:"text-sm text-gray-600",children:"List your products for sale"})]})]})}),m.jsx("button",{onClick:()=>window.location.hash="#/dashboard/orders",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:m.jsx(S,{className:"h-5 w-5 text-indigo-600"})}),m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"font-medium text-gray-900",children:"Manage Orders"}),m.jsx("p",{className:"text-sm text-gray-600",children:"View and fulfill orders"})]})]})}),m.jsx("button",{onClick:()=>window.location.hash="#/dashboard/profile",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:m.jsx(D,{className:"h-5 w-5 text-green-600"})}),m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"font-medium text-gray-900",children:"Update Profile"}),m.jsx("p",{className:"text-sm text-gray-600",children:"Manage your seller information"})]})]})})]})]})]})},as=()=>m.jsx("div",{className:"p-6",children:m.jsx(Je,{})}),rs=()=>m.jsx(Ze,{}),ls=()=>m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Track your sales performance"})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sales Analytics"})}),m.jsxs("div",{className:"text-center py-12",children:[m.jsx(P,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analytics Dashboard"}),m.jsx("p",{className:"text-gray-600",children:"Sales data and performance metrics will appear here"})]})]})]}),ns=()=>{const{user:e}=ue();return m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile"}),m.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your seller information"})]}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Seller Profile"})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:m.jsx(D,{className:"h-8 w-8 text-gray-500"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:(null==e?void 0:e.fullName)||"Seller"}),m.jsx("p",{className:"text-gray-600",children:null==e?void 0:e.email}),m.jsx("p",{className:"text-sm text-gray-500",children:"Role: Seller"})]})]}),m.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Information"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),m.jsx("input",{type:"text",defaultValue:(null==e?void 0:e.fullName)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),m.jsx("input",{type:"email",defaultValue:(null==e?void 0:e.email)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),m.jsx("input",{type:"tel",placeholder:"Enter phone number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name"}),m.jsx("input",{type:"text",placeholder:"Enter business name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),m.jsx("div",{className:"mt-6",children:m.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})})]})]})]})]})},is=()=>{const[e,s]=A.useState(!0),[t,a]=A.useState(!1),[r,l]=A.useState("dashboard"),n=y();A.useEffect(()=>{const e=n.hash;e.includes("products/edit")||e.includes("products/new")||e.includes("products")?l("products"):e.includes("orders")?l("orders"):e.includes("analytics")?l("analytics"):e.includes("profile")?l("profile"):l("dashboard")},[n.hash]);return m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(ss,{isOpen:e,isMobileOpen:t,onToggle:()=>s(!e),onMobileToggle:()=>a(!t),activeTab:r,onTabChange:l}),m.jsxs("div",{className:"transition-all duration-300 "+(e?"lg:ml-64":"lg:ml-20"),children:[m.jsx(Xe,{onMenuClick:()=>a(!t),sidebarOpen:e}),m.jsx("main",{className:"pt-16",children:(()=>{switch(r){case"products":return m.jsx(as,{});case"orders":return m.jsx(rs,{});case"analytics":return m.jsx(ls,{});case"profile":return m.jsx(ns,{});default:return m.jsx(ts,{})}})()})]}),t&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>a(!1)})]})};export{ze as A,Qe as C,ye as L,fe as M,is as S};
