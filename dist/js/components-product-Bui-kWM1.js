var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,n=(e,s)=>{for(var t in s||(s={}))r.call(s,t)&&l(e,t,s[t]);if(a)for(var t of a(s))i.call(s,t)&&l(e,t,s[t]);return e},c=(e,a)=>s(e,t(a));import{j as o,S as d,L as m,V as x,g as u,a as h,u as p,O as g,r as b,aM as f,i as j,d as y,p as N,ae as v,aq as w,aN as k,aJ as S,a0 as C,s as A,aO as P,ao as $,X as I,aK as M,q as D,af as O,Z as L,aP as T}from"./vendor-react-CeB5Z5vL.js";import{m as q,A as F}from"./vendor-animations-BBvRWpqR.js";import{b as H,e as R,t as V,d as W,k as E,c as z}from"./app-core-KQJ4Bmso.js";import{P as B}from"./components-dashboard-CypG_wDT.js";import{u as Z,M as U}from"./components-home-BkzyK8e-.js";const Y=[{icon:d,label:"SSL Secured",description:"256-bit encryption",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{icon:m,label:"Privacy Protected",description:"GDPR Compliant",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{icon:x,label:"Secure Payments",description:"PCI DSS Certified",color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"},{icon:u,label:"Trusted Store",description:"Verified Business",color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200"}],J=({variant:e="horizontal",showLabels:s=!0,className:t=""})=>{const a={horizontal:"flex items-center space-x-2 px-4 py-3",vertical:"flex items-center space-x-3 px-4 py-3",compact:"flex items-center space-x-1 px-2 py-1"};return o.jsx("div",{className:`${{horizontal:"flex items-center justify-center space-x-6",vertical:"flex flex-col space-y-4",compact:"flex items-center space-x-3"}[e]} ${t}`,children:Y.map((t,r)=>o.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:`\n            ${a[e]}\n            ${t.bgColor} ${t.borderColor}\n            border rounded-lg hover:shadow-md transition-all duration-300\n            ${"compact"===e?"text-xs":"text-sm"}\n          `,children:[o.jsx(t.icon,{className:`\n            ${t.color} \n            ${"compact"===e?"h-4 w-4":"h-5 w-5"}\n          `}),s&&o.jsxs("div",{className:"compact"===e?"":"text-left",children:[o.jsx("div",{className:"font-medium text-gray-900 "+("compact"===e?"text-xs":""),children:t.label}),"compact"!==e&&o.jsx("div",{className:"text-xs text-gray-600",children:t.description})]})]},t.label))})},Q=({className:e=""})=>o.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`\n        bg-gradient-to-r from-green-50 to-blue-50 \n        border border-green-200 rounded-xl p-6 ${e}\n      `,children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:o.jsx(d,{className:"h-6 w-6 text-green-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"100% Secure Checkout"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(h,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-gray-700",children:"SSL Encrypted"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(h,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-gray-700",children:"PCI Compliant"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(h,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-gray-700",children:"Privacy Protected"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(h,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{className:"text-gray-700",children:"Money Back Guarantee"})]})]}),o.jsx("div",{className:"mt-4 text-center",children:o.jsx("p",{className:"text-xs text-gray-600",children:"Your payment information is processed securely. We do not store credit card details."})})]}),_=({className:e=""})=>o.jsxs("div",{className:`flex items-center justify-center space-x-3 ${e}`,children:[o.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"We Accept:"}),o.jsx("div",{className:"flex items-center space-x-2",children:[{name:"Visa",logo:"💳"},{name:"Mastercard",logo:"💳"},{name:"American Express",logo:"💳"},{name:"PayPal",logo:"🅿️"},{name:"Apple Pay",logo:"🍎"},{name:"Google Pay",logo:"🔵"}].map((e,s)=>o.jsx("div",{className:"flex items-center justify-center w-10 h-6 bg-white border border-gray-200 rounded text-xs",title:e.name,children:e.logo},e.name))})]}),G=[{id:"1",customerName:"Sarah M.",productName:"Premium Smartphone Pro Max",location:"New York",timeAgo:"2 minutes ago",verified:!0},{id:"2",customerName:"Michael K.",productName:"Wireless Bluetooth Headphones",location:"California",timeAgo:"5 minutes ago",verified:!0},{id:"3",customerName:"Emma L.",productName:"Smart Fitness Watch",location:"Texas",timeAgo:"8 minutes ago",verified:!1}],K=({className:e="",productId:s,showRecentPurchases:t=!0,showViewingCount:a=!0,showCustomerCount:r=!0})=>{const[i,l]=b.useState(0),[n,c]=b.useState(Math.floor(15*Math.random())+3);return b.useEffect(()=>{if(!t)return;const e=setInterval(()=>{l(e=>(e+1)%G.length)},4e3);return()=>clearInterval(e)},[t]),b.useEffect(()=>{if(!a)return;const e=setInterval(()=>{c(e=>{const s=e+(Math.random()>.5?1:-1);return Math.max(1,Math.min(25,s))})},8e3);return()=>clearInterval(e)},[a,s]),o.jsxs("div",{className:`space-y-4 ${e}`,children:[t&&o.jsx(F,{mode:"wait",children:o.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-white border border-green-200 rounded-lg p-4 shadow-sm",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:o.jsx(f,{className:"h-4 w-4 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:G[i].customerName}),G[i].verified&&o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full",title:"Verified Purchase"})]}),o.jsxs("p",{className:"text-xs text-gray-600",children:["from ",G[i].location," purchased"," ",o.jsx("span",{className:"font-medium",children:G[i].productName})]}),o.jsxs("p",{className:"text-xs text-gray-500 flex items-center mt-1",children:[o.jsx(j,{className:"h-3 w-3 mr-1"}),G[i].timeAgo]})]})]})},i)}),a&&o.jsx(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(y,{className:"h-4 w-4 text-blue-600"}),o.jsxs("span",{className:"text-sm text-blue-800",children:[o.jsx("span",{className:"font-semibold",children:n})," people are viewing this product"]}),o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]})}),r&&o.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(N,{className:"h-4 w-4 text-purple-600"}),o.jsxs("span",{className:"text-sm text-purple-800",children:["Join ",o.jsx("span",{className:"font-semibold",children:"50,000+"})," happy customers"]})]})})]})},X=({rating:e,reviewCount:s,className:t=""})=>{const a=e/5*100;return o.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`bg-yellow-50 border border-yellow-200 rounded-lg p-4 ${t}`,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((s,t)=>o.jsx(g,{className:"h-5 w-5 "+(t<Math.floor(e)?"text-yellow-400 fill-current":"text-gray-300")},t))}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900",children:e.toFixed(1)}),o.jsxs("span",{className:"text-sm text-gray-600",children:["(",s.toLocaleString()," reviews)"]})]}),o.jsxs("div",{className:"text-xs text-gray-600",children:[a.toFixed(0),"% of customers recommend this product"]})]})]})})},ee=({isHot:e=!1,salesIncrease:s=0,className:t=""})=>!e&&s<=0?null:o.jsxs(q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${e?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"} ${t}`,children:[o.jsx(p,{className:"h-3 w-3"}),o.jsx("span",{children:e?"Hot Item":`+${s}% sales`})]}),se=({stock:e,lowStockThreshold:s=10,className:t=""})=>{if(e>s)return null;const a=e<=3,r=a?"high":"medium";return o.jsxs(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`border rounded-lg p-3 ${{high:"bg-red-50 border-red-200 text-red-700",medium:"bg-orange-50 border-orange-200 text-orange-700"}[r]} ${t}`,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full "+(a?"bg-red-500 animate-pulse":"bg-orange-500")}),o.jsx("span",{className:"text-sm font-medium",children:a?"Almost sold out!":"Low stock alert"})]}),o.jsxs("p",{className:"text-xs mt-1",children:["Only ",e," left in stock - order soon!"]})]})},te=[{icon:v,title:"Fast Shipping",description:"On orders over $50",color:"text-emerald-600",bgColor:"bg-emerald-50"},{icon:w,title:"30-Day Returns",description:"Hassle-free returns",color:"text-blue-600",bgColor:"bg-blue-50"},{icon:d,title:"Secure Checkout",description:"SSL encrypted & protected",color:"text-neutral-700",bgColor:"bg-neutral-100"},{icon:k,title:"24/7 Support",description:"Expert customer care",color:"text-purple-600",bgColor:"bg-purple-50"}],ae=({variant:e="grid",showIcons:s=!0,className:t=""})=>{const a={grid:"text-center p-4",horizontal:"flex items-center space-x-3 p-3",vertical:"flex items-center space-x-4 p-4",compact:"flex items-center space-x-2 p-2 text-sm"};return o.jsx("div",{className:`${{grid:"grid grid-cols-2 md:grid-cols-4 gap-4",horizontal:"flex flex-wrap justify-center gap-6",vertical:"space-y-4",compact:"flex flex-wrap justify-center gap-3"}[e]} ${t}`,children:te.map((t,r)=>o.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:`\n            ${a[e]}\n            bg-white border border-neutral-200 rounded-xl hover:shadow-lg hover:-translate-y-1 transition-all duration-300 luxury-transition\n          `,children:[s&&o.jsx("div",{className:`\n              ${t.bgColor} p-3 rounded-full\n              ${"grid"===e?"mx-auto mb-3":""}\n              ${"compact"===e?"p-2":""}\n            `,children:o.jsx(t.icon,{className:`\n                ${t.color}\n                ${"compact"===e?"h-4 w-4":"h-6 w-6"}\n              `})}),o.jsxs("div",{className:"grid"===e?"text-center":"text-left",children:[o.jsx("h3",{className:`\n              font-semibold text-gray-900\n              ${"compact"===e?"text-sm":"text-base"}\n            `,children:t.title}),o.jsx("p",{className:`\n              text-gray-600\n              ${"compact"===e?"text-xs":"text-sm"}\n            `,children:t.description})]})]},t.title))})},re=({className:e=""})=>o.jsx("div",{className:`space-y-4 ${e}`,children:o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Why Shop With Us?"}),o.jsx(ae,{variant:"vertical",className:"space-y-3"})]})}),ie=({className:e=""})=>{const s=[{icon:d,title:"Secure Checkout",description:"Your data is protected with 256-bit SSL encryption"},{icon:u,title:"Trusted by 50,000+",description:"Join thousands of satisfied customers"},{icon:j,title:"Quick Processing",description:"Orders processed within 24 hours"}];return o.jsxs("div",{className:`bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-6 ${e}`,children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Shop with Confidence"}),o.jsx("div",{className:"space-y-3",children:s.map((e,s)=>o.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm",children:o.jsx(e.icon,{className:"h-5 w-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:e.title}),o.jsx("p",{className:"text-xs text-gray-600",children:e.description})]})]},e.title))})]})},le=({freeShipping:e,warranty:s,returns:t,className:a=""})=>{const r=[];return e&&r.push({icon:v,text:"Fast Shipping",color:"text-blue-600"}),s&&r.push({icon:d,text:"Warranty",color:"text-green-600"}),t&&r.push({icon:w,text:"Returns",color:"text-purple-600"}),0===r.length?null:o.jsx("div",{className:`flex items-center space-x-2 ${a}`,children:r.map((e,s)=>o.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",title:e.text,children:[o.jsx(e.icon,{className:`h-3 w-3 ${e.color}`}),o.jsx("span",{children:e.text})]},e.text))})},ne=()=>{const{user:e}=H(),{addItem:s}=R(),{showAuthModal:t}=V();return{handleAddToCart:(a,r=1)=>{e?s(a,r):t(a,"cart")}}},ce=()=>{const{user:e}=H(),{addItem:s}=W(),{showAuthModal:t}=V();return{handleAddToWishlist:a=>{e?s(a):t(a,"wishlist")}}},oe=({product:e,isListView:s=!1})=>{const{isInWishlist:t}=W(),{showNotification:a}=E(),{handleAddToCart:r}=ne(),{handleAddToWishlist:i}=ce(),[l,n]=b.useState(0),c=e.originalPrice?Math.round((e.originalPrice-e.price)/e.originalPrice*100):0;return 0===e.stock||e.stock,o.jsxs("div",{className:`product-card group flex ${s?"flex-row":"flex-col"} h-full bg-white rounded-lg sm:rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-100 touch-manipulation`,onMouseEnter:()=>{dataPreloader.preloadProduct(e.id,{priority:"high"})},children:[o.jsxs("div",{className:"relative overflow-hidden group/image bg-gray-50 "+(s?"w-32 h-32 flex-shrink-0":""),children:[o.jsx(S,{to:`/products/${e.id}`,className:"block",children:o.jsxs("div",{className:(s?"aspect-square":"aspect-[4/3]")+" relative overflow-hidden",children:[o.jsx(B,{product:e,className:"w-full h-full object-cover",alt:e.name,size:"medium"}),e.images&&e.images.length>1&&o.jsx("div",{className:"absolute bottom-1.5 sm:bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1 sm:space-x-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.images.map((s,t)=>o.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),n(t)},className:"w-1 h-1 sm:w-1.5 sm:h-1.5 rounded-full transition-all duration-150 "+(t===l?"bg-white shadow-md":"bg-white/70 hover:bg-white/90"),"aria-label":`View image ${t+1}`},`${e.id}-image-${t}`))}),o.jsx("div",{className:"absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})}),o.jsxs("div",{className:"absolute top-2 left-2 flex flex-col space-y-1 z-10",children:[c>0&&o.jsxs("span",{className:"bg-red-600 text-white text-[10px] px-1.5 py-0.5 rounded font-medium shadow-sm",children:["-",c,"% OFF"]}),e.featured&&o.jsx(ee,{isHot:!0,className:"shadow-sm"}),e.stock<=0&&o.jsx("span",{className:"bg-gray-500 text-white text-[10px] px-1.5 py-0.5 rounded font-medium shadow-sm",children:"Out of Stock"})]}),o.jsx("div",{className:"absolute top-1.5 sm:top-2 right-1.5 sm:right-2 flex flex-col space-y-1 sm:space-y-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:o.jsx("button",{onClick:s=>{s.stopPropagation(),s.preventDefault();const t=trackInteraction("wishlist_toggle",e.id);i(e),t()},className:`p-1 sm:p-1.5 rounded-full shadow-sm border transition-colors duration-200 ${t(e.id)?"bg-red-50 text-red-600 border-red-200":"bg-white text-gray-600 hover:text-red-500 border-gray-200 hover:border-red-200"} touch-manipulation`,children:o.jsx(C,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 "+(t(e.id)?"fill-current":"")})})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-1.5 sm:p-2 transform translate-y-full group-hover:translate-y-0 transition-transform duration-200 bg-gradient-to-t from-white via-white/95 to-transparent",children:o.jsxs("button",{onClick:s=>{s.stopPropagation(),s.preventDefault();const t=trackInteraction("add_to_cart",e.id);e.stock>0&&r(e),t()},disabled:0===e.stock,className:`w-full flex items-center justify-center space-x-1 px-2 py-1.5 sm:px-3 sm:py-2 rounded-md sm:rounded-lg font-medium transition-colors duration-200 ${0===e.stock?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600 shadow-sm active:bg-orange-700"} touch-manipulation`,children:[o.jsx(A,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5"}),o.jsx("span",{className:"text-[10px] sm:text-xs font-medium",children:0===e.stock?"Out of Stock":"Add to Cart"})]})})]}),o.jsxs("div",{className:"p-2.5 sm:p-3 flex flex-col flex-grow space-y-1.5 sm:space-y-2 "+(s?"ml-3":""),children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("span",{className:"text-[10px] sm:text-xs text-gray-600 uppercase tracking-wide font-medium",children:e.category}),o.jsx(S,{to:`/products/${e.id}`,children:o.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 line-clamp-2 leading-4 group-hover:text-blue-600 transition-colors duration-200 "+(s?"line-clamp-1":"line-clamp-2"),children:e.name})})]}),o.jsx("div",{className:"flex-grow"}),o.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-0.5 sm:space-x-1",children:[[...Array(5)].map((s,t)=>o.jsx(g,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 "+(t<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-300")},`${e.id}-star-${t}`)),o.jsxs("span",{className:"text-[10px] text-gray-600 ml-0.5",children:["(",e.rating,")"]})]}),o.jsxs("div",{className:"flex items-center space-x-1.5",children:[o.jsxs("span",{className:"text-sm sm:text-base font-bold text-gray-900",children:["₹",e.price.toLocaleString("en-IN")]}),e.originalPrice&&o.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-500 line-through",children:["₹",e.originalPrice.toLocaleString("en-IN")]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-[10px] font-medium "+(e.stock>0?"text-green-600":"text-red-500"),children:e.stock>0?e.stock>10?"In Stock":`Only ${e.stock} left`:"Out of stock"}),c>0&&o.jsxs("span",{className:"bg-red-100 text-red-700 text-[10px] font-semibold px-1 py-0.5 rounded",children:[c,"% OFF"]})]}),o.jsx("div",{className:"pt-1.5 border-t border-gray-100",children:o.jsx(le,{freeShipping:e.price>=2e3,warranty:!0,returns:!0,className:"justify-center scale-75"})})]})]})]})},de=({review:e,onHelpful:s})=>{var t,a;const[r,i]=b.useState(!1),l=e.createdAt||new Date(e.created_at||""),n=(null==(t=e.profiles)?void 0:t.full_name)||"Anonymous",c=null==(a=e.profiles)?void 0:a.avatar_url;return o.jsx("div",{className:"py-6 border-b border-gray-200 last:border-b-0",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("img",{src:c||`https://api.dicebear.com/8.x/initials/svg?seed=${n}`,alt:n,className:"h-12 w-12 rounded-full object-cover bg-gray-200"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:n}),e.isVerifiedPurchase&&o.jsxs("div",{className:"flex items-center gap-1 text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[o.jsx(d,{className:"h-3 w-3"}),"Verified Purchase"]})]}),o.jsx("p",{className:"text-sm text-gray-500",children:l instanceof Date?l.toLocaleDateString():new Date(l).toLocaleDateString()})]}),o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((s,t)=>o.jsx(g,{className:"h-5 w-5 "+(t<e.rating?"text-yellow-400 fill-current":"text-gray-300")},t))})]}),e.title&&o.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:e.title}),e.comment&&o.jsx("p",{className:"text-gray-700 mb-3 leading-relaxed",children:e.comment}),e.images&&e.images.length>0&&o.jsxs("div",{className:"flex gap-2 mb-3",children:[e.images.slice(0,3).map((e,s)=>o.jsx("img",{src:e,alt:`Review image ${s+1}`,className:"h-16 w-16 object-cover rounded-lg border border-gray-200"},s)),e.images.length>3&&o.jsx("div",{className:"h-16 w-16 bg-gray-100 rounded-lg border border-gray-200 flex items-center justify-center",children:o.jsxs("span",{className:"text-xs text-gray-600",children:["+",e.images.length-3]})})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[o.jsxs("button",{onClick:()=>{s&&(s(e.id),i(!0))},disabled:r,className:"flex items-center gap-2 text-sm px-3 py-1 rounded-full transition-colors "+(r?"bg-blue-100 text-blue-700 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"),children:[o.jsx(P,{className:"h-4 w-4 "+(r?"fill-current":"")}),o.jsxs("span",{children:[r?"Helpful!":"Helpful",e.helpfulCount&&e.helpfulCount>0&&` (${e.helpfulCount})`]})]}),!e.isApproved&&o.jsx("span",{className:"text-xs text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full",children:"Pending Approval"})]})]})]})})},me=({onSubmit:e})=>{const[s,t]=b.useState(0),[a,r]=b.useState(0),[i,l]=b.useState(""),[n,c]=b.useState(""),[d,m]=b.useState([]),{showNotification:x}=E();return o.jsxs("form",{onSubmit:a=>{a.preventDefault(),0!==s?""!==n.trim()?(e(s,n,i,d),t(0),l(""),c(""),m([])):x({type:"error",title:"Comment required",message:"Please write a comment about the product."}):x({type:"error",title:"Rating required",message:"Please select a star rating."})},className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Rating"}),o.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((e,i)=>{const l=i+1;return o.jsx(q.button,{type:"button",onMouseEnter:()=>r(l),onMouseLeave:()=>r(0),onClick:()=>t(l),whileHover:{scale:1.2,y:-2},whileTap:{scale:.9},className:"p-1",children:o.jsx(g,{className:"h-7 w-7 transition-colors "+(l<=(a||s)?"text-yellow-400 fill-current":"text-gray-300")})},l)})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Title (Optional)"}),o.jsx("input",{type:"text",id:"title",value:i,onChange:e=>l(e.target.value),className:"input-field",placeholder:"Summarize your review in a few words",maxLength:100})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review *"}),o.jsx("textarea",{id:"comment",rows:5,value:n,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Share your thoughts about the product...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Photos (Optional)"}),o.jsxs("div",{className:"space-y-3",children:[d.length<3&&o.jsxs("label",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-indigo-400 transition-colors",children:[o.jsxs("div",{className:"text-center",children:[o.jsx($,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload photos"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Up to 3 images, max 5MB each"})]}),o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{const s=e.target.files;s&&Array.from(s).forEach(e=>{if(d.length<3){const s=new FileReader;s.onload=e=>{m(s=>{var t;return[...s,null==(t=e.target)?void 0:t.result]})},s.readAsDataURL(e)}})},className:"hidden"})]}),d.length>0&&o.jsx("div",{className:"flex gap-3",children:d.map((e,s)=>o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:e,alt:`Review image ${s+1}`,className:"h-20 w-20 object-cover rounded-lg border border-gray-200"}),o.jsx("button",{type:"button",onClick:()=>(e=>{m(s=>s.filter((s,t)=>t!==e))})(s),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:o.jsx(I,{className:"h-3 w-3"})})]},s))})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(q.button,{type:"submit",className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Submit Review"})})]})},xe=({currentProduct:e,type:s,title:t,subtitle:a,maxItems:r=4,className:i="",showAddToCart:l=!0,layout:n="horizontal"})=>{const{products:c}=z(),{addItem:d}=R(),{addItem:m,isInWishlist:x}=W(),{showNotification:u}=E(),{isMobile:h}=Z(),[f,j]=b.useState([]),[v,w]=b.useState(!0),k={related:{calculateSimilarity:(e,s)=>{let t=0;e.category===s.category&&(t+=40);if(Math.abs(e.price-s.price)/Math.max(e.price,s.price)<=.3&&(t+=25),e.sellerName&&s.sellerName&&e.sellerName===s.sellerName&&(t+=20),e.tags&&s.tags){t+=e.tags.filter(e=>s.tags.includes(e)).length/Math.max(e.tags.length,s.tags.length)*15}return t},getRecommendations:(e,s,t)=>s.filter(s=>s.id!==e.id).map(s=>({product:s,score:k.related.calculateSimilarity(e,s)})).sort((e,s)=>s.score-e.score).slice(0,t).map(e=>e.product)},"frequently-bought":{calculateSimilarity:(e,s)=>{var t;let a=0;e.category&&s.category&&(null==(t={"Oudh Attars":["Amber Attars","Sandalwood Attars"],"Floral Attars":["Jasmine Attars","Attar Blends"],"Musk Attars":["Oudh Attars","Amber Attars"],"Amber Attars":["Oudh Attars","Saffron Attars"],"Saffron Attars":["Amber Attars","Heritage Attars"],"Sandalwood Attars":["Oudh Attars","Musk Attars"],"Jasmine Attars":["Floral Attars","Attar Blends"],"Attar Blends":["Heritage Attars","Seasonal Attars"],"Seasonal Attars":["Attar Blends","Floral Attars"],"Heritage Attars":["Oudh Attars","Saffron Attars"]}[e.category])?void 0:t.includes(s.category))?a+=50:e.category===s.category&&(a+=30);const r=s.price/e.price;r>=.1&&r<=.5&&(a+=30);return Math.abs(e.rating-s.rating)<=.5&&(a+=20),a},getRecommendations:(e,s,t)=>s.filter(s=>s.id!==e.id).map(s=>({product:s,score:k["frequently-bought"].calculateSimilarity(e,s)})).sort((e,s)=>s.score-e.score).slice(0,t).map(e=>e.product)},"you-may-like":{calculateSimilarity:(e,s)=>{let t=0;t+=15*s.rating,s.featured&&(t+=25),e.category!==s.category&&(t+=20);const a=s.price/e.price;return a>=.8&&a<=1.5&&(t+=20),t+=20*Math.random(),t},getRecommendations:(e,s,t)=>s.filter(s=>s.id!==e.id).map(s=>({product:s,score:k["you-may-like"].calculateSimilarity(e,s)})).sort((e,s)=>s.score-e.score).slice(0,t).map(e=>e.product)},"recently-viewed":{calculateSimilarity:()=>0,getRecommendations:(e,s,t)=>{const a=JSON.parse(localStorage.getItem("recentlyViewed")||"[]");return s.filter(s=>a.includes(s.id)&&s.id!==(null==e?void 0:e.id)).slice(0,t)}}};b.useEffect(()=>{if("recently-viewed"===s){const e=JSON.parse(localStorage.getItem("recentlyViewed")||"[]"),s=c.filter(s=>e.includes(s.id)).slice(0,r);j(s),w(!1)}else e&&c.length>0&&(w(!0),setTimeout(()=>{const t=k[s].getRecommendations(e,c,r);j(t),w(!1)},300))},[e,c,s,r]);const P=()=>{switch(s){case"related":default:return o.jsx(D,{className:"h-4 w-4"});case"frequently-bought":return o.jsx(N,{className:"h-4 w-4"});case"you-may-like":return o.jsx(p,{className:"h-4 w-4"});case"recently-viewed":return o.jsx(y,{className:"h-4 w-4"})}},$=()=>{switch(s){case"related":return"Related Products";case"frequently-bought":return"Frequently Bought Together";case"you-may-like":return"You May Also Like";case"recently-viewed":return"Recently Viewed";default:return"Recommended Products"}};return v?o.jsxs("div",{className:`${i}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[o.jsx("div",{className:"text-neutral-600",children:P()}),o.jsxs("div",{children:[o.jsx("div",{className:"h-4 sm:h-5 bg-neutral-200 rounded w-32 sm:w-40 animate-pulse"}),o.jsx("div",{className:"h-2.5 sm:h-3 bg-neutral-100 rounded w-36 sm:w-48 mt-1 animate-pulse"})]})]}),o.jsx("div",{className:"grid gap-3 sm:gap-4 "+("grid"===n?"grid-cols-2":"grid-cols-1 sm:grid-cols-2"),children:Array.from({length:r}).map((e,s)=>o.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 p-2.5 sm:p-3 animate-pulse",children:[o.jsx("div",{className:"aspect-square bg-neutral-200 rounded-md mb-2.5 sm:mb-3"}),o.jsx("div",{className:"h-2.5 sm:h-3 bg-neutral-200 rounded mb-1.5"}),o.jsx("div",{className:"h-2.5 sm:h-3 bg-neutral-100 rounded w-3/4"})]},s))})]}):0===f.length?null:o.jsxs("section",{className:`${i}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4 mb-3 sm:mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"text-neutral-600",children:P()}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral-900",children:t||$()}),o.jsx("p",{className:"text-[10px] sm:text-xs text-neutral-600 mt-0.5",children:a||(()=>{switch(s){case"related":return"Similar products you might be interested in";case"frequently-bought":return"Customers who bought this item also bought";case"you-may-like":return"Personalized recommendations just for you";case"recently-viewed":return"Continue where you left off";default:return"Discover more great products"}})()})]})]}),f.length>r&&o.jsxs(S,{to:"/products",className:"flex items-center space-x-1.5 text-primary-600 hover:text-primary-700 transition-colors text-xs sm:text-sm touch-manipulation",children:[o.jsx("span",{className:"font-medium",children:"View All"}),o.jsx(M,{className:"h-3 w-3"})]})]}),h?o.jsx(U,{products:f,title:t||$()}):o.jsx("div",{className:"grid gap-3 sm:gap-4 "+("grid"===n?"grid-cols-2":"grid-cols-1 sm:grid-cols-2"),children:f.map((e,s)=>o.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"touch-manipulation",children:o.jsx(S,{to:`/products/${e.id}`,className:"group block",children:o.jsxs("div",{className:"bg-white rounded-lg border border-neutral-200 hover:border-neutral-300 transition-all duration-200 hover:shadow-md overflow-hidden",children:[o.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[o.jsx("img",{src:e.images&&e.images.length>0&&e.images[0]||"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgZmlsbD0iI2Y5ZmFmYiIvPgogIDx0ZXh0IHg9IjIwMCIgeT0iMjAwIiBmb250LXNpemU9IjE2IiBmaWxsPSIjNjM3MzgwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2UgTm90IEZvdW5kPC90ZXh0Pgo8L3N2Zz4=",alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsx("button",{onClick:s=>((e,s)=>{s.preventDefault(),s.stopPropagation(),m(e)})(e,s),className:`absolute top-1.5 sm:top-2 right-1.5 sm:right-2 p-1 rounded-full transition-all ${x(e.id)?"bg-red-100 text-red-600":"bg-white/80 text-neutral-600 hover:bg-white"} touch-manipulation`,children:o.jsx(C,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 "+(x(e.id)?"fill-current":"")})}),l&&e.stock>0&&o.jsxs("button",{onClick:s=>((e,s)=>{s.preventDefault(),s.stopPropagation(),d(e),u({type:"success",title:"Added to Cart",message:`${e.name} has been added to your cart.`})})(e,s),className:"absolute bottom-1.5 sm:bottom-2 left-1.5 sm:left-2 right-1.5 sm:right-2 bg-neutral-900 text-white py-1 px-2 sm:py-1.5 sm:px-3 rounded-md opacity-0 group-hover:opacity-100 transition-all duration-200 flex items-center justify-center space-x-1 hover:bg-neutral-800 active:bg-neutral-700 touch-manipulation",children:[o.jsx(A,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5"}),o.jsx("span",{className:"text-[10px] sm:text-xs font-medium",children:"Add to Cart"})]})]}),o.jsxs("div",{className:"p-2.5 sm:p-3",children:[o.jsx("h4",{className:"font-medium text-neutral-900 mb-1 line-clamp-2 group-hover:text-primary-600 transition-colors text-xs sm:text-sm",children:e.name}),o.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[o.jsx("div",{className:"flex items-center",children:Array.from({length:5}).map((s,t)=>o.jsx(g,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 "+(t<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-neutral-300")},t))}),o.jsxs("span",{className:"text-[10px] text-neutral-500",children:["(",e.rating,")"]})]}),o.jsxs("div",{className:"flex items-center space-x-1.5",children:[o.jsxs("span",{className:"text-sm sm:text-base font-semibold text-neutral-900",children:["$",e.price]}),e.originalPrice&&o.jsxs("span",{className:"text-[10px] sm:text-xs text-neutral-500 line-through",children:["$",e.originalPrice]})]}),e.stock<=5&&e.stock>0&&o.jsxs("p",{className:"text-[10px] text-orange-600 mt-1",children:["Only ",e.stock," left in stock"]}),0===e.stock&&o.jsx("p",{className:"text-[10px] text-red-600 mt-1",children:"Out of stock"})]})]})})},e.id))})]})},ue=({product:e,isOpen:s,onClose:t})=>{var a;const{handleAddToCart:r}=ne(),{handleAddToWishlist:i}=ce(),[l,n]=b.useState(1),[c,m]=b.useState(0),x=[{icon:v,text:"Fast Shipping on orders over $50"},{icon:w,text:"30-day return policy"},{icon:d,text:"2-year warranty included"}];return o.jsx(o.Fragment,{children:s&&o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:o.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:t}),o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-4xl mx-4",children:[o.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 p-2 bg-white rounded-full shadow-md hover:bg-gray-50",children:o.jsx(I,{className:"h-5 w-5"})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6",children:[o.jsxs("div",{children:[o.jsx("div",{className:"aspect-square mb-4",children:o.jsx("img",{src:e.images[c],alt:e.name,className:"w-full h-full object-cover rounded-lg"})}),e.images.length>1&&o.jsx("div",{className:"flex space-x-2",children:e.images.map((s,t)=>o.jsx("button",{onClick:()=>m(t),className:"w-16 h-16 rounded border-2 overflow-hidden "+(c===t?"border-indigo-500":"border-gray-200"),children:o.jsx(B,{product:{id:e.id,name:e.name,images:[s]},className:"w-full h-full object-cover",alt:"",size:"small"})},t))})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.name}),o.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((s,t)=>o.jsx(g,{className:"h-5 w-5 "+(t<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-300")},t))}),o.jsxs("span",{className:"text-gray-600 ml-2",children:["(",e.rating,") • ",(null==(a=e.reviews)?void 0:a.length)||0," reviews"]})]}),o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",e.price]}),e.originalPrice&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-xl text-gray-500 line-through",children:["$",e.originalPrice]}),o.jsxs("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded-lg text-sm font-semibold",children:["Save $",(e.originalPrice-e.price).toFixed(2)]})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("button",{onClick:()=>n(Math.max(1,l-1)),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:o.jsx(O,{className:"h-4 w-4"})}),o.jsx("span",{className:"px-4 py-2 border border-gray-300 rounded-lg min-w-[60px] text-center",children:l}),o.jsx("button",{onClick:()=>n(Math.min(e.stock,l+1)),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:l>=e.stock,children:o.jsx(L,{className:"h-4 w-4"})}),o.jsxs("span",{className:"text-sm text-gray-600",children:[e.stock," available"]})]})]}),o.jsxs("div",{className:"flex space-x-4 mb-8",children:[o.jsxs(q.button,{onClick:()=>{r(e,l),t()},disabled:0===e.stock,className:"flex-1 btn-primary btn-lg flex items-center justify-center space-x-2 "+(0===e.stock?"opacity-50 cursor-not-allowed":""),whileHover:e.stock>0?{scale:1.02}:{},whileTap:e.stock>0?{scale:.98}:{},children:[o.jsx(A,{className:"h-5 w-5"}),o.jsx("span",{children:0===e.stock?"Out of Stock":"Add to Cart"})]}),o.jsx(q.button,{onClick:()=>{i(e)},className:"btn-secondary p-4 hover:text-red-500",whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(C,{className:"h-5 w-5"})}),o.jsx(q.button,{className:"btn-secondary p-4",whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(T,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"bg-neutral-50 rounded-xl p-6 space-y-4",children:[o.jsx("h3",{className:"font-semibold text-neutral-900 mb-4",children:"Product Features"}),x.map((e,s)=>o.jsxs("div",{className:"flex items-center space-x-3 text-sm text-neutral-700",children:[o.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center",children:o.jsx(e.icon,{className:"h-4 w-4 text-emerald-600"})}),o.jsx("span",{className:"font-medium",children:e.text})]},s))]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Sold by"}),o.jsx("p",{className:"font-semibold text-gray-900",children:e.sellerName})]}),o.jsx("button",{className:"text-indigo-600 text-sm hover:text-indigo-700",children:"View Store"})]})})]})]})]})]})})})},he=({product:e,onClose:s})=>{const{addProduct:t,updateProduct:a,categories:r}=z(),{user:i}=H(),{showNotification:l}=E(),[d,m]=b.useState({name:"",slug:"",description:"",shortDescription:"",price:0,originalPrice:0,category:r.length>0?r[0].name:"",categoryId:r.length>0?r[0].id:"",stock:0,minStockLevel:5,sku:"",weight:0,dimensions:{length:0,width:0,height:0},images:["https://images.unsplash.com/photo-1588964895597-cf29151f7199?w=400&h=400&fit=crop"],tags:[],specifications:{Volume:"",Concentration:"",Longevity:"",Sillage:"",Origin:""},featured:!1,isActive:!0,metaTitle:"",metaDescription:""});b.useEffect(()=>{e&&m({name:e.name,slug:e.slug||"",description:e.description,shortDescription:e.shortDescription||"",price:e.price,originalPrice:e.originalPrice||0,category:e.category,categoryId:e.categoryId||"",stock:e.stock,minStockLevel:e.minStockLevel||5,sku:e.sku||"",weight:e.weight||0,dimensions:e.dimensions||{length:0,width:0,height:0},images:e.images,tags:e.tags,specifications:e.specifications||{Volume:"",Concentration:"",Longevity:"",Sillage:"",Origin:""},featured:e.featured||!1,isActive:!1!==e.isActive,metaTitle:e.metaTitle||"",metaDescription:e.metaDescription||""})},[e]);const x=e=>{const{name:s,value:t,type:a}=e.target;if("category"===s){const e=r.find(e=>e.name===t);m(s=>c(n({},s),{category:t,categoryId:(null==e?void 0:e.id)||""}))}else if("checkbox"===a){const t=e.target.checked;m(e=>c(n({},e),{[s]:t}))}else m(e=>c(n({},e),{[s]:t}))},u=(e,s)=>{m(t=>c(n({},t),{dimensions:c(n({},t.dimensions),{[e]:s})}))};return o.jsxs("form",{onSubmit:r=>{if(r.preventDefault(),!i)return;if(!d.name.trim())return void l({type:"error",title:"Validation Error",message:"Product name is required."});if(!d.description.trim())return void l({type:"error",title:"Validation Error",message:"Product description is required."});if(!d.shortDescription.trim())return void l({type:"error",title:"Validation Error",message:"Short description is required."});if(!d.sku.trim())return void l({type:"error",title:"Validation Error",message:"SKU is required."});if(d.price<=0)return void l({type:"error",title:"Validation Error",message:"Price must be greater than 0."});if(d.stock<0)return void l({type:"error",title:"Validation Error",message:"Stock quantity cannot be negative."});if(d.weight<=0)return void l({type:"error",title:"Validation Error",message:"Weight must be greater than 0."});const o=c(n({},d),{slug:d.slug||d.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),price:Number(d.price),originalPrice:Number(d.originalPrice)||void 0,stock:Number(d.stock),minStockLevel:Number(d.minStockLevel),weight:Number(d.weight),dimensions:{length:Number(d.dimensions.length),width:Number(d.dimensions.width),height:Number(d.dimensions.height)},sellerId:i.id,sellerName:i.name||i.email||"Unknown Seller",rating:0,reviewCount:0,reviews:[],createdAt:new Date,updatedAt:new Date});e?(a(n(n({},e),o)),l({type:"success",title:"Product Updated",message:`${e.name} has been updated.`})):(t(o),l({type:"success",title:"Product Added",message:`${d.name} has been added.`})),s()},className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),o.jsx("input",{type:"text",name:"name",value:d.name,onChange:x,className:"w-full input-field",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU *"}),o.jsx("input",{type:"text",name:"sku",value:d.sku,onChange:x,className:"w-full input-field",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),o.jsx("select",{name:"category",value:d.category,onChange:x,className:"w-full input-field",required:!0,children:r.map(e=>o.jsx("option",{value:e.name,children:e.name},e.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight (kg) *"}),o.jsx("input",{type:"number",name:"weight",value:d.weight,onChange:x,className:"w-full input-field",required:!0,step:"0.001"})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Short Description *"}),o.jsx("input",{type:"text",name:"shortDescription",value:d.shortDescription,onChange:x,className:"w-full input-field",required:!0})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Description *"}),o.jsx("textarea",{name:"description",value:d.description,onChange:x,rows:4,className:"w-full input-field",required:!0})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pricing & Inventory"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),o.jsx("input",{type:"number",name:"price",value:d.price,onChange:x,className:"w-full input-field",required:!0,step:"0.01"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Price"}),o.jsx("input",{type:"number",name:"originalPrice",value:d.originalPrice,onChange:x,className:"w-full input-field",step:"0.01"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),o.jsx("input",{type:"number",name:"stock",value:d.stock,onChange:x,className:"w-full input-field",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Stock Level"}),o.jsx("input",{type:"number",name:"minStockLevel",value:d.minStockLevel,onChange:x,className:"w-full input-field"})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Dimensions (cm)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Length"}),o.jsx("input",{type:"number",value:d.dimensions.length,onChange:e=>u("length",Number(e.target.value)),className:"w-full input-field",step:"0.1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Width"}),o.jsx("input",{type:"number",value:d.dimensions.width,onChange:e=>u("width",Number(e.target.value)),className:"w-full input-field",step:"0.1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height"}),o.jsx("input",{type:"number",value:d.dimensions.height,onChange:e=>u("height",Number(e.target.value)),className:"w-full input-field",step:"0.1"})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Product Specifications"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(d.specifications).map(([e,s])=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e}),o.jsx("input",{type:"text",value:s,onChange:s=>((e,s)=>{m(t=>c(n({},t),{specifications:c(n({},t.specifications),{[e]:s})}))})(e,s.target.value),className:"w-full input-field",placeholder:`Enter ${e.toLowerCase()}`})]},e))})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tags & Settings"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:["trending","bestseller","new","sale","premium","limited"].map(e=>o.jsx("button",{type:"button",onClick:()=>(e=>{m(s=>{const t=s.tags.includes(e)?s.tags.filter(s=>s!==e):[...s.tags,e];return c(n({},s),{tags:t})})})(e),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors "+(d.tags.includes(e)?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e},e))})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"featured",checked:d.featured,onChange:x,className:"mr-2"}),o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Featured Product"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isActive",checked:d.isActive,onChange:x,className:"mr-2"}),o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Active"})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"SEO Information"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title"}),o.jsx("input",{type:"text",name:"metaTitle",value:d.metaTitle,onChange:x,className:"w-full input-field"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),o.jsx("textarea",{name:"metaDescription",value:d.metaDescription,onChange:x,rows:2,className:"w-full input-field"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[o.jsx(q.button,{type:"button",onClick:s,className:"btn-secondary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),o.jsx(q.button,{type:"submit",className:"btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:e?"Save Changes":"Add Product"})]})]})};export{ie as C,le as M,he as P,X as R,se as S,ee as T,oe as a,ue as b,J as c,K as d,re as e,de as f,xe as g,me as h,_ as i,Q as j};
